(window.webpackJsonp=window.webpackJsonp||[]).push([[6],{x3XF:function(e,t,a){"use strict";a.r(t),a.d(t,"EgresosModule",(function(){return ne}));var o=a("ofXK"),i=a("3Pt+"),r=a("ZOsW"),n=a("tyNb"),c=a("fXoL");let s=(()=>{class e{constructor(){}ngOnInit(){}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=c.Fb({type:e,selectors:[["app-beneficiarios"]],decls:4,vars:0,consts:[[1,"container-fluid"],[1,"row"],[1,"col","_center-items"],[1,"_en-construccion-bc"]],template:function(e,t){1&e&&(c.Rb(0,"div",0),c.Rb(1,"div",1),c.Rb(2,"div",2),c.Mb(3,"div",3),c.Qb(),c.Qb(),c.Qb())},encapsulation:2}),e})(),l=(()=>{class e{constructor(){}ngOnInit(){}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=c.Fb({type:e,selectors:[["app-tipos-egresos"]],decls:4,vars:0,consts:[[1,"container-fluid"],[1,"row"],[1,"col","_center-items"],[1,"_en-construccion-bc"]],template:function(e,t){1&e&&(c.Rb(0,"div",0),c.Rb(1,"div",1),c.Rb(2,"div",2),c.Mb(3,"div",3),c.Qb(),c.Qb(),c.Qb())},encapsulation:2}),e})(),d=(()=>{class e{constructor(){}ngOnInit(){}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=c.Fb({type:e,selectors:[["app-participantes"]],decls:4,vars:0,consts:[[1,"container-fluid"],[1,"row"],[1,"col","_center-items"],[1,"_en-construccion-bc"]],template:function(e,t){1&e&&(c.Rb(0,"div",0),c.Rb(1,"div",1),c.Rb(2,"div",2),c.Mb(3,"div",3),c.Qb(),c.Qb(),c.Qb())},encapsulation:2}),e})(),u=(()=>{class e{constructor(){}ngOnInit(){}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=c.Fb({type:e,selectors:[["app-egresos"]],decls:4,vars:0,consts:[[1,"container-fluid"],[1,"row"],[1,"col","_center-items"],[1,"_en-construccion-bc"]],template:function(e,t){1&e&&(c.Rb(0,"div",0),c.Rb(1,"div",1),c.Rb(2,"div",2),c.Mb(3,"div",3),c.Qb(),c.Qb(),c.Qb())},encapsulation:2}),e})();var b=a("LvDl"),m=a("wd/R"),g=a("/TkA"),h=a("LRne"),p=a("3E0/"),f=a("AytR"),v=a("tk/3");const R="/API-EGRESOS-DE/v1/api/egresos";let C=(()=>{class e{constructor(e){this.http=e}getDataAplicacionOrdenesCompra(e){if("MOCK"===f.a.name){let e={body:[{fecha:"01/09/2020",tipoOrdenPago:"COMPLEMENTARIA",sumaMontoTotalPagos:100},{fecha:"01/09/2020",tipoOrdenPago:"DEUDA PUBLICA ",sumaMontoTotalPagos:1e3},{fecha:"02/09/2020",tipoOrdenPago:"COMPLEMENTARIA",sumaMontoTotalPagos:200},{fecha:"02/09/2020",tipoOrdenPago:"DEUDA PUBLICA ",sumaMontoTotalPagos:2e3},{fecha:"03/09/2020",tipoOrdenPago:"COMPLEMENTARIA",sumaMontoTotalPagos:450},{fecha:"03/09/2020",tipoOrdenPago:"DEUDA PUBLICA ",sumaMontoTotalPagos:3e3},{fecha:"04/09/2020",tipoOrdenPago:"COMPLEMENTARIA",sumaMontoTotalPagos:400},{fecha:"04/09/2020",tipoOrdenPago:"DEUDA PUBLICA ",sumaMontoTotalPagos:4e3},{fecha:"05/09/2020",tipoOrdenPago:"COMPLEMENTARIA",sumaMontoTotalPagos:390},{fecha:"06/09/2020",tipoOrdenPago:"COMPLEMENTARIA",sumaMontoTotalPagos:420},{fecha:"07/09/2020",tipoOrdenPago:"COMPLEMENTARIA",sumaMontoTotalPagos:450},{fecha:"08/09/2020",tipoOrdenPago:"COMPLEMENTARIA",sumaMontoTotalPagos:480},{fecha:"09/09/2020",tipoOrdenPago:"COMPLEMENTARIA",sumaMontoTotalPagos:500},{fecha:"10/09/2020",tipoOrdenPago:"COMPLEMENTARIA",sumaMontoTotalPagos:545},{fecha:"11/09/2020",tipoOrdenPago:"COMPLEMENTARIA",sumaMontoTotalPagos:680},{fecha:"12/09/2020",tipoOrdenPago:"COMPLEMENTARIA",sumaMontoTotalPagos:600},{fecha:"13/09/2020",tipoOrdenPago:"COMPLEMENTARIA",sumaMontoTotalPagos:650},{fecha:"14/09/2020",tipoOrdenPago:"COMPLEMENTARIA",sumaMontoTotalPagos:700},{fecha:"15/09/2020",tipoOrdenPago:"COMPLEMENTARIA",sumaMontoTotalPagos:730},{fecha:"16/09/2020",tipoOrdenPago:"COMPLEMENTARIA",sumaMontoTotalPagos:800},{fecha:"14/09/2020",tipoOrdenPago:"COMPLEMENTARIA",sumaMontoTotalPagos:1e3},{fecha:"15/09/2020",tipoOrdenPago:"COMPLEMENTARIA",sumaMontoTotalPagos:700},{fecha:"16/09/2020",tipoOrdenPago:"COMPLEMENTARIA",sumaMontoTotalPagos:900},{fecha:"17/09/2020",tipoOrdenPago:"COMPLEMENTARIA",sumaMontoTotalPagos:500},{fecha:"18/09/2020",tipoOrdenPago:"COMPLEMENTARIA",sumaMontoTotalPagos:800},{fecha:"19/09/2020",tipoOrdenPago:"COMPLEMENTARIA",sumaMontoTotalPagos:1e3},{fecha:"20/09/2020",tipoOrdenPago:"COMPLEMENTARIA",sumaMontoTotalPagos:700},{fecha:"21/09/2020",tipoOrdenPago:"COMPLEMENTARIA",sumaMontoTotalPagos:900},{fecha:"22/09/2020",tipoOrdenPago:"COMPLEMENTARIA",sumaMontoTotalPagos:500}]};return Object(h.a)(e).pipe(Object(p.a)(1e3))}return this.http.get(`${f.a.urlWS}${R}/graficaAplicacionOrdenesCompra`,{params:e})}graficaOrdenesCompra(e){if("MOCK"===f.a.name){let e={body:[{fecha:"01/09/2020",sumaMontoTotalPagos:4588},{fecha:"02/09/2020",sumaMontoTotalPagos:1220},{fecha:"03/09/2020",sumaMontoTotalPagos:150},{fecha:"04/09/2020",sumaMontoTotalPagos:36789},{fecha:"05/09/2020",sumaMontoTotalPagos:21}]};return Object(h.a)(e)}return this.http.get(`${f.a.urlWS}${R}/graficaOrdenesCompra`,{params:e})}obtenerOrdenPagoContratista(e){if("MOCK"===f.a.name){let e={body:[{fecha:"01/09/2020",montoTotalPagos:1e3,clavePresupuestal:null,claveContratista:null,claveContrato:null},{fecha:"02/09/2020",montoTotalPagos:2500,clavePresupuestal:null,claveContratista:null,claveContrato:null},{fecha:"03/09/2020",montoTotalPagos:2e3,clavePresupuestal:null,claveContratista:null,claveContrato:null},{fecha:"04/09/2020",montoTotalPagos:3e3,clavePresupuestal:null,claveContratista:null,claveContrato:null},{fecha:"05/09/2020",montoTotalPagos:1500,clavePresupuestal:null,claveContratista:null,claveContrato:null}]};return Object(h.a)(e).pipe(Object(p.a)(1e3))}return this.http.get(`${f.a.urlWS}${R}/obtenerOrdenPagoContratista`,{params:e})}getEstOrganizacional(e){if("MOCK"===f.a.name){let e={body:[{fecha:"01/09/2020",montoTotalPagos:4588,nueElabora:"nue",nueAutoriza:"nue2"},{fecha:"02/09/2020",montoTotalPagos:5588,nueElabora:"nue",nueAutoriza:"nue2"},{fecha:"03/09/2020",montoTotalPagos:6588,nueElabora:"nue",nueAutoriza:"nue2"},{fecha:"04/09/2020",montoTotalPagos:3588,nueElabora:"nue",nueAutoriza:"nue2"}]};return Object(h.a)(e).pipe(Object(p.a)(1e3))}return this.http.get(`${f.a.urlWS}${R}/estOrganizacional`,{params:e})}}return e.\u0275fac=function(t){return new(t||e)(c.Zb(v.b))},e.\u0275prov=c.Hb({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();var M=a("1kSV");let T=(()=>{class e extends M.a{constructor(){super(...arguments),this.DT_FORMAT="DD/MM/YYYY"}parse(e){return e&&(e=e.trim(),m(e,this.DT_FORMAT)),null}format(e){if(!e)return"";let t=m([e.year,e.month-1,e.day]);return t.isValid()?t.format(this.DT_FORMAT):""}}return e.\u0275fac=function(t){return F(t||e)},e.\u0275prov=c.Hb({token:e,factory:e.\u0275fac}),e})();const F=c.Tb(T);let A=(()=>{class e{constructor(){}getDateFormatTimeZoneFromNgbCalendar(e,t){let a=t?t.split(":"):["00","00","00"],o=this.verificarMenorAunDigito(a[0]),i=this.verificarMenorAunDigito(a[1]),r=this.verificarMenorAunDigito(a[2]),n=this.verificarMenorAunDigito(e.year)+"-"+this.verificarMenorAunDigito(e.month)+"-"+this.verificarMenorAunDigito(e.day),c=o+":"+i+":"+r;return console.log(":::::: PARSE DATE_TIME_ZONE: ",null),m(n+" "+c).format("YYYY-MM-DDTHH:mm:ss")}getDateNgbCalendar(e){let t={year:null,month:null,day:null};if(e&&"Invalid date"!=e){let a=m(e,"YYYY-MM-DDTHH:mm:ss");t.year=Number(a.format("YYYY")),t.month=Number(a.format("MM")),t.day=Number(a.format("DD"))}return t}verificarMenorAunDigito(e){return e&&1==e.toString().length?"0"+e:e}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=c.Hb({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();function P(e,t){1&e&&(c.Rb(0,"span",10),c.Hc(1,"*"),c.Qb())}function D(e,t){1&e&&(c.Rb(0,"div"),c.Hc(1,"Esta fecha es requerida"),c.Qb())}function y(e,t){1&e&&(c.Rb(0,"div"),c.Hc(1," Esta fecha es invalida "),c.Qb())}function E(e,t){if(1&e&&(c.Rb(0,"div"),c.Hc(1),c.Qb()),2&e){const e=c.gc(2);c.yb(1),c.Jc(" ",null==e.fc.genericDate.errors?null:e.fc.genericDate.errors.customError," ")}}function O(e,t){if(1&e&&(c.Rb(0,"div",11),c.Fc(1,D,2,0,"div",12),c.Fc(2,y,2,0,"div",12),c.Fc(3,E,2,1,"div",12),c.Qb()),2&e){const e=c.gc();c.yb(1),c.mc("ngIf",null==e.fc.genericDate.errors?null:e.fc.genericDate.errors.required),c.yb(1),c.mc("ngIf",null==e.fc.genericDate.errors||null==e.fc.genericDate.errors.ngbDate?null:e.fc.genericDate.errors.ngbDate.invalid),c.yb(1),c.mc("ngIf",null==e.fc.genericDate.errors?null:e.fc.genericDate.errors.customError)}}const Q=function(e){return{"is-invalid":e}};let I=(()=>{class e{constructor(e,t){this.formBuilder=e,this.formatterService=t,this.fechaValidaEvent=new c.n}ngOnInit(){this.groupForm=this.formBuilder.group({genericDate:[{value:null,disabled:!1},[i.n.required]]})}ngOnChanges(){this.dataDate&&this.parseGenericDate(this.dataDate)}ngAfterViewInit(){this.groupForm.statusChanges.subscribe(e=>{this.fechaValidaEvent.emit(this.groupForm.valid||this.fc.genericDate.errors&&this.fc.genericDate.errors.customError?this.formatterService.getDateFormatTimeZoneFromNgbCalendar(this.groupForm.value.genericDate):null)},e=>{}),setTimeout(()=>{this.isDisabled?(this.parseGenericDate(this.dataDate),this.groupForm.get("genericDate").disable(),this.groupForm.get("genericDate").updateValueAndValidity()):this.fechaPreCargada?this.parseGenericDate(this.fechaPreCargada):this.dataDate&&this.parseGenericDate(this.dataDate)},150)}ngOnDestroy(){}get fc(){return this.groupForm.controls}parseGenericDate(e){let t=e||(this.groupForm?this.groupForm.get("genericDate").value:null);if(this.groupForm&&"object"!=typeof t){let e=this.formatterService.getDateNgbCalendar(t);this.groupForm.get("genericDate").setValue(e),this.groupForm.get("genericDate").updateValueAndValidity()}}setCustomError(e){this.fc.genericDate.errors&&this.fc.genericDate.errors.customError&&!e?this.groupForm.get("genericDate").setErrors(null):!this.fc.genericDate.errors&&e&&this.groupForm.get("genericDate").setErrors({customError:e})}resetForm(){this.groupForm.get("genericDate").reset(null)}onSubmit(){}}return e.\u0275fac=function(t){return new(t||e)(c.Lb(i.c),c.Lb(A))},e.\u0275cmp=c.Fb({type:e,selectors:[["app-widget-input-date"]],inputs:{fechaPreCargada:"fechaPreCargada",label:"label",isDisabled:"isDisabled",dataDate:"dataDate",isRequired:"isRequired"},outputs:{fechaValidaEvent:"fechaValidaEvent"},features:[c.xb([{provide:M.a,useClass:T}]),c.wb],decls:11,vars:12,consts:[[3,"formGroup","ngSubmit"],["for","genericDate"],["class","text-danger",4,"ngIf"],[1,"input-group"],[1,"input-group-prepend",3,"ngClass"],[1,"input-group-text",3,"click"],[1,"ti-calendar"],["placeholder","dd/mm/yyyy","formControlName","genericDate","ngbDatepicker","",1,"form-control",3,"ngClass","click","blur"],["d","ngbDatepicker"],["class","invalid-feedback text-right",4,"ngIf"],[1,"text-danger"],[1,"invalid-feedback","text-right"],[4,"ngIf"]],template:function(e,t){if(1&e){const e=c.Sb();c.Rb(0,"form",0),c.cc("ngSubmit",(function(){return t.onSubmit()})),c.Rb(1,"label",1),c.Hc(2),c.Fc(3,P,2,0,"span",2),c.Qb(),c.Rb(4,"div",3),c.Rb(5,"div",4),c.Rb(6,"span",5),c.cc("click",(function(){return c.xc(e),c.vc(9).toggle()})),c.Mb(7,"i",6),c.Qb(),c.Qb(),c.Rb(8,"input",7,8),c.cc("click",(function(){return c.xc(e),c.vc(9).toggle()}))("blur",(function(){return t.parseGenericDate()})),c.Qb(),c.Fc(10,O,4,3,"div",9),c.Qb(),c.Qb()}2&e&&(c.mc("formGroup",t.groupForm),c.yb(1),c.Db("sr-only",!t.label),c.yb(1),c.Ic(t.label),c.yb(1),c.mc("ngIf",t.isRequired),c.yb(2),c.mc("ngClass",c.qc(8,Q,t.fc.genericDate.errors&&t.fc.genericDate.dirty)),c.yb(3),c.mc("ngClass",c.qc(10,Q,t.fc.genericDate.errors&&t.fc.genericDate.dirty)),c.yb(2),c.mc("ngIf",t.fc.genericDate.errors&&t.fc.genericDate.dirty))},directives:[i.p,i.j,i.e,o.m,o.k,i.b,M.b,i.i,i.d],styles:[""]}),e})();var x=a("zQsl"),Y=a("0mAJ");function L(e,t){if(1&e&&(c.Rb(0,"div",4),c.Rb(1,"div",5),c.Rb(2,"span"),c.Hc(3),c.hc(4,"date"),c.Qb(),c.Rb(5,"span"),c.Hc(6),c.hc(7,"customCurrency"),c.Qb(),c.Qb(),c.Qb()),2&e){const e=t.model;c.yb(3),c.Jc("",c.jc(4,3,e.name,"MMM d, y"),"\xa0|\xa0"),c.yb(3),c.Kc("",e.series,": ",c.ic(7,6,e.value)," ")}}function S(e,t){if(1&e&&(c.Rb(0,"div",5),c.Mb(1,"span",7),c.Rb(2,"span"),c.Hc(3),c.hc(4,"date"),c.hc(5,"customCurrency"),c.Qb(),c.Qb()),2&e){const e=t.$implicit;c.yb(1),c.Dc("background-color",e.color),c.yb(2),c.Kc("",c.jc(4,4,e.name,"MMM d, y"),": ",c.ic(5,7,e.value),"")}}function H(e,t){if(1&e&&(c.Rb(0,"div",4),c.Fc(1,S,6,9,"div",6),c.Qb()),2&e){const e=t.model;c.yb(1),c.mc("ngForOf",e)}}m.locale("es-us");let w=(()=>{class e{constructor(){this.legend=!1,this.showLabels=!0,this.animations=!0,this.xAxis=!0,this.yAxis=!0,this.showYAxisLabel=!1,this.showXAxisLabel=!0,this.xAxisLabel="",this.yAxisLabel="",this.timeline=!1,this.legendPosition="below",this.gradient=!0,this._xAxisTicks=["2020-09-01T00:00:00","2020-09-22T00:00:00"],this.autoScale=!0,this.colorScheme={domain:["#7E72A8","#AE9AF5","#D1F58D","#A85177","#F582B3","#49BDFD","#42D4E3","#55FADC","#42E398","#49FD76"]},this.currencyTickFormatting=e=>{if(e)return"$"+e.toString().replace(/\B(?=(\d{3})+(?!\d))/g,",")}}ngOnInit(){}dateTickFormatting(e){if(e)return m(new Date(e)).format("MMM D, y")}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=c.Fb({type:e,selectors:[["app-ngx-area-chart"]],inputs:{data:"data",legendTitle:"legendTitle",xAxisTicks:"xAxisTicks"},decls:6,vars:18,consts:[[1,"chart-wrapper"],[3,"view","scheme","legend","showXAxisLabel","showYAxisLabel","xAxis","yAxis","xAxisLabel","yAxisLabel","timeline","results","xAxisTickFormatting","yAxisTickFormatting","legendPosition","legendTitle","gradient","xAxisTicks","autoScale"],["tooltipTemplate",""],["seriesTooltipTemplate",""],[1,"area-tooltip-container"],[1,"tooltip-item"],["class","tooltip-item",4,"ngFor","ngForOf"],[1,"tooltip-item-color"]],template:function(e,t){1&e&&(c.Rb(0,"div",0),c.Rb(1,"ngx-charts-line-chart",1),c.Fc(2,L,8,8,"ng-template",null,2,c.Gc),c.Fc(4,H,2,1,"ng-template",null,3,c.Gc),c.Qb(),c.Qb()),2&e&&(c.yb(1),c.mc("view",t.view)("scheme",t.colorScheme)("legend",t.legend)("showXAxisLabel",t.showXAxisLabel)("showYAxisLabel",t.showYAxisLabel)("xAxis",t.xAxis)("yAxis",t.yAxis)("xAxisLabel",t.xAxisLabel)("yAxisLabel",t.yAxisLabel)("timeline",t.timeline)("results",t.data)("xAxisTickFormatting",t.dateTickFormatting)("yAxisTickFormatting",t.currencyTickFormatting)("legendPosition",t.legendPosition)("legendTitle",t.legendTitle)("gradient",t.gradient)("xAxisTicks",t.xAxisTicks)("autoScale",t.autoScale))},directives:[x.f,o.l],pipes:[o.e,Y.a],styles:[".chart-wrapper[_ngcontent-%COMP%]{height:500px}"]}),e})();var N=a("jnTO");const k=["fechaInicioComp"],B=["fechaFinComp"];function _(e,t){if(1&e&&(c.Rb(0,"div",24),c.Hc(1),c.Qb()),2&e){const e=t.item;c.nc("title",null==e?null:e.nombreItem),c.yb(1),c.Jc(" ",null==e?null:e.nombreItem," ")}}const V=["fechaInicioComp"],G=["fechaFinComp"];function J(e,t){if(1&e&&(c.Rb(0,"div",26),c.Hc(1),c.Qb()),2&e){const e=t.item;c.nc("title",null==e?null:e.nombreItem),c.yb(1),c.Jc(" ",null==e?null:e.nombreItem," ")}}function U(e,t){if(1&e&&(c.Rb(0,"div",26),c.Hc(1),c.Qb()),2&e){const e=t.item;c.nc("title",null==e?null:e.nombreItem),c.yb(1),c.Jc(" ",null==e?null:e.nombreItem," ")}}function z(e,t){if(1&e&&(c.Rb(0,"div",26),c.Hc(1),c.Qb()),2&e){const e=t.item;c.nc("title",null==e?null:e.nombreItem),c.yb(1),c.Jc(" ",null==e?null:e.nombreItem," ")}}const $=["fechaInicioComp"],j=["fechaFinComp"];function q(e,t){if(1&e&&(c.Rb(0,"div",26),c.Hc(1),c.Qb()),2&e){const e=t.item;c.nc("title",null==e?null:e.nombreItem),c.yb(1),c.Jc(" ",null==e?null:e.nombreItem," ")}}function X(e,t){if(1&e&&(c.Rb(0,"div",26),c.Hc(1),c.Qb()),2&e){const e=t.item;c.nc("title",null==e?null:e.nombreItem),c.yb(1),c.Jc(" ",null==e?null:e.nombreItem," ")}}const K=["fechaInicioComp"],W=["fechaFinComp"];function Z(e,t){if(1&e&&(c.Rb(0,"div",27),c.Hc(1),c.Qb()),2&e){const e=t.item;c.nc("title",null==e?null:e.nombreItem),c.yb(1),c.Jc(" ",null==e?null:e.nombreItem," ")}}function ee(e,t){if(1&e&&(c.Rb(0,"div",27),c.Hc(1),c.Qb()),2&e){const e=t.item;c.nc("title",null==e?null:e.nombreItem),c.yb(1),c.Jc(" ",null==e?null:e.nombreItem," ")}}function te(e,t){if(1&e&&(c.Rb(0,"div",27),c.Hc(1),c.Qb()),2&e){const e=t.item;c.nc("title",null==e?null:e.nombreItem),c.yb(1),c.Jc(" ",null==e?null:e.nombreItem," ")}}const ae=[{path:"",data:{breadcrumbs:"Egresos"},children:[{path:"aplicacion-ordenes-compra",component:(()=>{class e{constructor(e,t,a){this.formBuilder=e,this.apiRestSharedService=t,this.apiRestEgresosService=a,this.legendTitle="Tipo Ordenes de Pago",this.groupForm=this.formBuilder.group({fechaInicio:[{value:null,disabled:!1},[i.n.required]],fechaFin:[{value:null,disabled:!1},[i.n.required]],tipoOrdenPago:[{value:null,disabled:!1}]}),this.getCatalogoCategoriasAdeudo()}ngOnInit(){this.fechaInicio=m().subtract(6,"months").format("YYYY-MM-DDTHH:mm:ss"),this.fechaFin=m().format("YYYY-MM-DDTHH:mm:ss")}ngAfterViewInit(){}get fc(){return this.groupForm.controls}changeFilters(){this.groupForm.valid&&this.getDataAplicacionOrdenesCompra()}updateFechasEvent(e,t){this.fc[t].value!=e&&(this.groupForm.get(t).setValue(e),this.groupForm.get(t).updateValueAndValidity(),this.validacionPeriodo())}validacionPeriodo(){let e=this.groupForm.get("fechaInicio").value,t=this.groupForm.get("fechaFin").value;e&&t&&(e>t?(this.groupForm.get("fechaFin").setErrors({customError:"La fecha debe ser mayor a la fecha De"}),this.fechaFinComp.setCustomError("La fecha debe ser mayor a la fecha De")):(this.groupForm.get("fechaFin").setErrors(null),this.fechaFinComp.setCustomError(null),this.changeFilters()))}getCatalogoCategoriasAdeudo(){this.apiRestSharedService.getCatalogo("TIPO_ORD_PAG").subscribe(e=>{e&&(this.catalogoTipoOrdenPago=e.body)},e=>{})}getDataAplicacionOrdenesCompra(){const e={fechaInicio:m(this.fc.fechaInicio.value).format("DD/MM/YYYY"),fechaFin:m(this.fc.fechaFin.value).format("DD/MM/YYYY"),tipoOrdenPago:this.fc.tipoOrdenPago.value?this.fc.tipoOrdenPago.value.claveSIM:""};this.apiRestEgresosService.getDataAplicacionOrdenesCompra(e).subscribe(t=>{t&&(this.chartA=this.generateChart_1(null==t?void 0:t.body,e.tipoOrdenPago)),this.chartB=this.generateChartB(null==t?void 0:t.body)},e=>{})}generateChart_1(e,t){const a=b.map(e,e=>this.transformDate(e.fecha)),o=b.map(a,e=>m(e)),i=m.min(o),r=m.max(o).diff(i,"days"),n=Math.round(r/6);return e.length>=10&&(this.xAxisTicks=b.map([0,1,2,3,4,5],(e,t)=>m(i).add(n*e,"days").format("YYYY-MM-DDTHH:mm:ss"))),[{name:t||"Monto total",series:b.map(b.groupBy(e,"fecha"),(e,t)=>({name:this.transformDate(t),value:b.reduce(e,(e,t)=>e+t.sumaMontoTotalPagos,0)}))}]}generateChartB(e){const t=b.map(b.groupBy(e,"tipoOrdenPago"),(e,t)=>({name:t,value:b.reduce(e,(e,t)=>e+t.sumaMontoTotalPagos,0)}));return console.log("::::: CHART_A: ",JSON.stringify(t)),t}transformDate(e){const t=e.toString().split("/");return`${t[2]}-${t[1]}-${t[0]}T00:00:00`}}return e.\u0275fac=function(t){return new(t||e)(c.Lb(i.c),c.Lb(g.a),c.Lb(C))},e.\u0275cmp=c.Fb({type:e,selectors:[["app-aplicacion-ordenes-compra"]],viewQuery:function(e,t){var a;1&e&&(c.Lc(k,!0),c.Lc(B,!0)),2&e&&(c.uc(a=c.dc())&&(t.fechaInicioComp=a.first),c.uc(a=c.dc())&&(t.fechaFinComp=a.first))},decls:39,vars:8,consts:[[1,"container-fluid"],[1,"page-title"],[1,"row"],[1,"col","col-sm-12"],[1,"card"],[1,"card-heading","border","bottom"],[1,"card-title"],[1,"card-block","mb-5"],[1,"col-md-12"],[3,"formGroup"],[1,"form-group","row","no-gutters"],["for","staticEmail",1,"col-md-1","col-form-label","text-center"],[1,"text-danger"],[1,"col-md-2"],[3,"dataDate","fechaValidaEvent"],["fechaInicioComp",""],["fechaFinComp",""],[1,"col-md-1"],["bindLabel","nombreItem","notFoundText","Sin resultados","loadingText","Cargando...","placeholder","Tipo orden de pago","formControlName","tipoOrdenPago",3,"items","change"],["ng-option-tmp",""],[1,"col-sm-8"],[3,"data","legendTitle","xAxisTicks"],[1,"col-md-4"],[3,"data"],[3,"title"]],template:function(e,t){1&e&&(c.Rb(0,"div",0),c.Rb(1,"div",1),c.Rb(2,"h4"),c.Hc(3," Egresos "),c.Mb(4,"hr"),c.Qb(),c.Qb(),c.Rb(5,"div",2),c.Rb(6,"div",3),c.Rb(7,"div",4),c.Rb(8,"div",5),c.Rb(9,"h4",6),c.Hc(10,"Aplicaci\xf3n de Ordenes de Compra"),c.Qb(),c.Qb(),c.Rb(11,"div",7),c.Rb(12,"div",2),c.Rb(13,"div",8),c.Rb(14,"form",9),c.Rb(15,"div",10),c.Rb(16,"label",11),c.Hc(17,"De "),c.Rb(18,"span",12),c.Hc(19,"*"),c.Qb(),c.Qb(),c.Rb(20,"div",13),c.Rb(21,"app-widget-input-date",14,15),c.cc("fechaValidaEvent",(function(e){return t.updateFechasEvent(e,"fechaInicio")})),c.Qb(),c.Qb(),c.Rb(23,"label",11),c.Hc(24,"Al "),c.Rb(25,"span",12),c.Hc(26,"*"),c.Qb(),c.Qb(),c.Rb(27,"div",13),c.Rb(28,"app-widget-input-date",14,16),c.cc("fechaValidaEvent",(function(e){return t.updateFechasEvent(e,"fechaFin")})),c.Qb(),c.Qb(),c.Mb(30,"div",17),c.Rb(31,"div",13),c.Rb(32,"ng-select",18),c.cc("change",(function(){return t.changeFilters()})),c.Fc(33,_,2,2,"ng-template",19),c.Qb(),c.Qb(),c.Qb(),c.Qb(),c.Qb(),c.Qb(),c.Rb(34,"div",2),c.Rb(35,"div",20),c.Mb(36,"app-ngx-area-chart",21),c.Qb(),c.Rb(37,"div",22),c.Mb(38,"app-ngx-advanced-pie-chart",23),c.Qb(),c.Qb(),c.Qb(),c.Qb(),c.Qb(),c.Qb(),c.Qb()),2&e&&(c.yb(14),c.mc("formGroup",t.groupForm),c.yb(7),c.mc("dataDate",t.fechaInicio),c.yb(7),c.mc("dataDate",t.fechaFin),c.yb(4),c.mc("items",t.catalogoTipoOrdenPago),c.yb(4),c.mc("data",t.chartA)("legendTitle",t.legendTitle)("xAxisTicks",t.xAxisTicks),c.yb(2),c.mc("data",t.chartB))},directives:[i.p,i.j,i.e,I,r.a,i.i,i.d,r.c,w,N.a],styles:[""]}),e})(),data:{breadcrumbs:"Aplicaci\xf3n de \xd3rdenes de Compra"}},{path:"ordenescompra",component:(()=>{class e{constructor(e,t,a){this.formBuilder=e,this.apiRestSharedService=t,this.apiRestEgresosService=a,this.chart_1=[],this.colorsChart_1=["#49BDFD","#42D4E3","#55FADC","#42E398","#49FD76"],this.catalogoClaveMedioFormaPago=[],this.catalogoTipoOrdenPago=[],this.catalogoTipoBeneficiario=[],this.catalogoEstatusOrdenCompra=[],this.montoLabel="Monto",this.groupForm=this.formBuilder.group({fechaInicio:[{value:null,disabled:!1},[i.n.required]],fechaFin:[{value:null,disabled:!1},[i.n.required]],claveMedioFormaPago:[{value:null,disabled:!1}],tipoOrdenPago:[{value:null,disabled:!1}],tipoBeneficiario:[{value:null,disabled:!1}],estatusOrdenCompra:[{value:null,disabled:!1}]})}ngOnInit(){this.fechaInicio=m().subtract(6,"months").format("YYYY-MM-DDTHH:mm:ss"),this.fechaFin=m().format("YYYY-MM-DDTHH:mm:ss"),this.getCatalogoMedioFormaPago(),this.getCatalogoTipoOrdenPago(),this.getCatalogoTipoBeneficiario(),this.getCatalogoEstatusOrdenCompra()}ngAfterViewInit(){}get fc(){return this.groupForm.controls}updateFechasEvent(e,t){this.fc[t].value!=e&&(this.groupForm.get(t).setValue(e),this.groupForm.get(t).updateValueAndValidity(),this.validacionPeriodo())}validacionPeriodo(){let e=this.groupForm.get("fechaInicio").value,t=this.groupForm.get("fechaFin").value;e&&t&&(e>t?(this.groupForm.get("fechaFin").setErrors({customError:"La fecha debe ser mayor a la fecha De"}),this.fechaFinComp.setCustomError("La fecha debe ser mayor a la fecha De")):(this.groupForm.get("fechaFin").setErrors(null),this.fechaFinComp.setCustomError(null),this.changeFilters()))}changeFilters(){this.groupForm.valid&&this.filterGrafica()}filterGrafica(){console.log(">>fechaInicial:"+this.fc.fechaInicio.value);let e={fechaInicial:m(this.fc.fechaInicio.value).format("DD/MM/YYYY"),fechaFinal:m(this.fc.fechaFin.value).format("DD/MM/YYYY"),tipoOrdenPago:this.fc.tipoOrdenPago.value,tipoBeneficiario:this.fc.tipoBeneficiario.value,estatusOrdenCompra:this.fc.estatusOrdenCompra.value};this.fc.fechaInicio.value||delete e.fechaInicial,this.fc.fechaFin.value||delete e.fechaFinal,this.fc.tipoOrdenPago.value||delete e.tipoOrdenPago,this.fc.tipoBeneficiario.value||delete e.tipoBeneficiario,this.fc.estatusOrdenCompra.value||delete e.estatusOrdenCompra,this.apiRestEgresosService.graficaOrdenesCompra(e).subscribe(e=>{this.chart_1=this.generarGrafica(e.body),e.body.length>=10&&this.generateXAxisTicks(e.body),this.chartB=this.generateChartB(null==e?void 0:e.body)},e=>{})}generateXAxisTicks(e){const t=b.map(e,e=>this.transformDate(e.fecha)),a=b.map(t,e=>m(e)),o=m.min(a),i=m.max(a).diff(o,"days"),r=Math.round(i/6);this.xAxisTicks=b.map([0,1,2,3,4,5],(e,t)=>m(o).add(r*e,"days").format("YYYY-MM-DDTHH:mm:ss"))}generateChartB(e){const t=[{name:"Monto total pagos",value:b.reduce(e,(e,t)=>e+t.sumaMontoTotalPagos,0)}];return console.log("::::: CHART_A: ",JSON.stringify(t)),t}generarGrafica(e){let t=[],a={name:"Monto total pagos",series:b.map(e,e=>({name:this.transformDate(e.fecha),value:e.sumaMontoTotalPagos}))};return t.push(a),console.log("::::DATA CHART-2: ",JSON.stringify(t)),t}transformDate(e){const t=e.split("/");return`${t[2]}-${t[1]}-${t[0]}T00:00:00`}getCatalogoMedioFormaPago(){this.apiRestSharedService.getCatalogo("MEDIO_FORMA_PAGO").subscribe(e=>{e.body&&(this.catalogoClaveMedioFormaPago=e.body)},e=>{})}getCatalogoTipoOrdenPago(){this.apiRestSharedService.getCatalogo("TIPO_ORD_PAG").subscribe(e=>{e.body&&(this.catalogoTipoOrdenPago=e.body)},e=>{})}getCatalogoTipoBeneficiario(){this.apiRestSharedService.getCatalogo("TIPO_BENEFICIARIO").subscribe(e=>{e.body&&(this.catalogoTipoBeneficiario=e.body)},e=>{})}getCatalogoEstatusOrdenCompra(){this.apiRestSharedService.getCatalogo("ESTATUS_ORDEN_COMPRA").subscribe(e=>{e.body&&(this.catalogoEstatusOrdenCompra=e.body)},e=>{})}}return e.\u0275fac=function(t){return new(t||e)(c.Lb(i.c),c.Lb(g.a),c.Lb(C))},e.\u0275cmp=c.Fb({type:e,selectors:[["app-ordenes-compra"]],viewQuery:function(e,t){var a;1&e&&(c.Lc(V,!0),c.Lc(G,!0)),2&e&&(c.uc(a=c.dc())&&(t.fechaInicioComp=a.first),c.uc(a=c.dc())&&(t.fechaFinComp=a.first))},decls:47,vars:10,consts:[[1,"container-fluid"],[1,"page-title"],[1,"row"],[1,"col","col-sm-12"],[1,"card"],[1,"card-heading","border","bottom"],[1,"card-title"],[1,"card-block","mb-5"],[1,"col-md-12"],[1,"form-inline","no-gutters",3,"formGroup"],["for","staticEmail",1,"col-md-1","col-form-label","text-center"],[1,"text-danger"],[1,"col-md-3"],[3,"dataDate","fechaValidaEvent"],["fechaInicioComp",""],["fechaFinComp",""],[1,"col-md-1"],["bindLabel","nombreItem","bindValue","nombreItem","placeholder","Tipo de Orden de Pago","formControlName","tipoOrdenPago",3,"items","change"],["ng-option-tmp",""],[1,"col-md-12","my-1"],["bindLabel","nombreItem","bindValue","nombreItem","placeholder","Tipo beneficiario","formControlName","tipoBeneficiario",3,"items","change"],["bindLabel","nombreItem","bindValue","nombreItem","placeholder","Estatus Orden Compra","formControlName","estatusOrdenCompra",3,"items","change"],[1,"col-sm-8"],[3,"data","xAxisTicks","legendTitle"],[1,"col-md-4"],[3,"data"],[3,"title"]],template:function(e,t){1&e&&(c.Rb(0,"div",0),c.Rb(1,"div",1),c.Rb(2,"h4"),c.Hc(3," Egresos "),c.Mb(4,"hr"),c.Qb(),c.Qb(),c.Rb(5,"div",2),c.Rb(6,"div",3),c.Rb(7,"div",4),c.Rb(8,"div",5),c.Rb(9,"h4",6),c.Hc(10,"\xd3rdenes de Compra"),c.Qb(),c.Qb(),c.Rb(11,"div",7),c.Rb(12,"div",2),c.Rb(13,"div",8),c.Rb(14,"form",9),c.Rb(15,"label",10),c.Hc(16," De "),c.Rb(17,"span",11),c.Hc(18,"*"),c.Qb(),c.Qb(),c.Rb(19,"div",12),c.Rb(20,"app-widget-input-date",13,14),c.cc("fechaValidaEvent",(function(e){return t.updateFechasEvent(e,"fechaInicio")})),c.Qb(),c.Qb(),c.Rb(22,"label",10),c.Hc(23," Al "),c.Rb(24,"span",11),c.Hc(25,"*"),c.Qb(),c.Qb(),c.Rb(26,"div",12),c.Rb(27,"app-widget-input-date",13,15),c.cc("fechaValidaEvent",(function(e){return t.updateFechasEvent(e,"fechaFin")})),c.Qb(),c.Qb(),c.Mb(29,"div",16),c.Rb(30,"div",12),c.Rb(31,"ng-select",17),c.cc("change",(function(){return t.filterGrafica()})),c.Fc(32,J,2,2,"ng-template",18),c.Qb(),c.Qb(),c.Mb(33,"div",19),c.Mb(34,"div",16),c.Rb(35,"div",12),c.Rb(36,"ng-select",20),c.cc("change",(function(){return t.filterGrafica()})),c.Fc(37,U,2,2,"ng-template",18),c.Qb(),c.Qb(),c.Mb(38,"div",16),c.Rb(39,"div",12),c.Rb(40,"ng-select",21),c.cc("change",(function(){return t.filterGrafica()})),c.Fc(41,z,2,2,"ng-template",18),c.Qb(),c.Qb(),c.Qb(),c.Qb(),c.Qb(),c.Rb(42,"div",2),c.Rb(43,"div",22),c.Mb(44,"app-ngx-area-chart",23),c.Qb(),c.Rb(45,"div",24),c.Mb(46,"app-ngx-advanced-pie-chart",25),c.Qb(),c.Qb(),c.Qb(),c.Qb(),c.Qb(),c.Qb(),c.Qb()),2&e&&(c.yb(14),c.mc("formGroup",t.groupForm),c.yb(6),c.mc("dataDate",t.fechaInicio),c.yb(7),c.mc("dataDate",t.fechaFin),c.yb(4),c.mc("items",t.catalogoTipoOrdenPago),c.yb(5),c.mc("items",t.catalogoTipoBeneficiario),c.yb(4),c.mc("items",t.catalogoEstatusOrdenCompra),c.yb(4),c.mc("data",t.chart_1)("xAxisTicks",t.xAxisTicks)("legendTitle",t.montoLabel),c.yb(2),c.mc("data",t.chartB))},directives:[i.p,i.j,i.e,I,r.a,i.i,i.d,r.c,w,N.a],styles:[""]}),e})(),data:{breadcrumbs:"\xd3rdenes de Compra"}},{path:"beneficiarios",component:s,data:{breadcrumbs:"Beneficiarios"}},{path:"tipos",component:l,data:{breadcrumbs:"Tipos"}},{path:"participantes",component:d,data:{breadcrumbs:"Participantes"}},{path:"egresos",component:u,data:{breadcrumbs:"Egresos"}},{path:"orden-pago-contratista",component:(()=>{class e{constructor(e,t,a){this.formBuilder=e,this.apiRestSharedService=t,this.apiRestEgresosService=a,this.montoLabel="Monto",this.groupForm=this.formBuilder.group({fechaInicial:[{value:null,disabled:!1},[i.n.required]],fechaFinal:[{value:null,disabled:!1},[i.n.required]],nombreContratista:[{value:null,disabled:!1}],tipoOrdenPago:[{value:null,disabled:!1}]}),this.getCatalogoContratista(),this.getCatalogoOrdenPago()}ngOnInit(){this.fechaInicial=m().subtract(6,"months").format("YYYY-MM-DDTHH:mm:ss"),this.fechaFinal=m().format("YYYY-MM-DDTHH:mm:ss")}ngAfterViewInit(){}get fc(){return this.groupForm.controls}changeFilters(){this.groupForm.valid&&this.getDataAplicacionOrdenesCompra()}updateFechasEvent(e,t){this.fc[t].value!=e&&(this.groupForm.get(t).setValue(e),this.groupForm.get(t).updateValueAndValidity(),this.validacionPeriodo())}validacionPeriodo(){let e=this.groupForm.get("fechaInicial").value,t=this.groupForm.get("fechaFinal").value;e&&t&&(e>t?(this.groupForm.get("fechaFinal").setErrors({customError:"La fecha debe ser mayor a la fecha De"}),this.fechaFinComp.setCustomError("La fecha debe ser mayor a la fecha De")):(this.groupForm.get("fechaFinal").setErrors(null),this.fechaFinComp.setCustomError(null),this.changeFilters()))}getDataAplicacionOrdenesCompra(){const e={fechaInicial:m(this.fc.fechaInicial.value).format("DD/MM/YYYY"),fechaFinal:m(this.fc.fechaFinal.value).format("DD/MM/YYYY"),nombreContratista:this.fc.nombreContratista.value?this.fc.nombreContratista.value.claveSIM:"",tipoOrdenPago:this.fc.tipoOrdenPago.value?this.fc.tipoOrdenPago.value.claveSIM:""};console.log("::::: DATA REQUEST: ",JSON.stringify(e)),this.apiRestEgresosService.obtenerOrdenPagoContratista(e).subscribe(e=>{e.body.length>0&&(this.chart_1=this.generateChart_1(e.body),e.body.length>=10&&this.generateXAxisTicks(e.body),this.chartB=this.generateChartB(null==e?void 0:e.body))},e=>{})}generateXAxisTicks(e){const t=b.map(e,e=>this.transformDate(e.fecha)),a=b.map(t,e=>m(e)),o=m.min(a),i=m.max(a).diff(o,"days"),r=Math.round(i/6);this.xAxisTicks=b.map([0,1,2,3,4,5],(e,t)=>m(o).add(r*e,"days").format("YYYY-MM-DDTHH:mm:ss"))}generateChartB(e){const t=[{name:"Monto total pagos",value:b.reduce(e,(e,t)=>e+t.montoTotalPagos,0)}];return console.log("::::: CHART_A: ",JSON.stringify(t)),t}generateChart_1(e){let t=[],a={name:"Monto total pagos",series:b.map(e,e=>({name:this.transformDate(e.fecha),value:e.montoTotalPagos}))};return t.push(a),t}transformDate(e){const t=e.split("/");return`${t[2]}-${t[1]}-${t[0]}T00:00:00`}getCatalogoContratista(){this.apiRestSharedService.getCatalogo("CONTRATISTA").subscribe(e=>{e.body&&(this.catalogoContratistas=e.body)},e=>{})}getCatalogoOrdenPago(){this.apiRestSharedService.getCatalogo("TIPO_ORD_PAG").subscribe(e=>{e.body&&(this.catalogoOrdenPago=e.body)},e=>{})}}return e.\u0275fac=function(t){return new(t||e)(c.Lb(i.c),c.Lb(g.a),c.Lb(C))},e.\u0275cmp=c.Fb({type:e,selectors:[["app-orden-pago-contratista"]],viewQuery:function(e,t){var a;1&e&&(c.Lc($,!0),c.Lc(j,!0)),2&e&&(c.uc(a=c.dc())&&(t.fechaInicioComp=a.first),c.uc(a=c.dc())&&(t.fechaFinComp=a.first))},decls:44,vars:9,consts:[[1,"container-fluid"],[1,"page-title"],[1,"row"],[1,"col","col-sm-12"],[1,"card"],[1,"card-heading","border","bottom"],[1,"card-title"],[1,"card-block","mb-5"],[1,"col-md-12"],[3,"formGroup"],[1,"form-group","row","no-gutters"],["for","staticEmail",1,"col-md-1","col-form-label","text-center"],[1,"text-danger"],[1,"col-md-5"],[3,"dataDate","fechaValidaEvent"],["fechaInicioComp",""],["fechaFinComp",""],[1,"col-md-12","my-1"],[1,"col-md-1"],["bindLabel","nombreItem","notFoundText","Sin resultados","loadingText","Cargando...","placeholder","Contratista","formControlName","nombreContratista",3,"items","change"],["ng-option-tmp",""],["bindLabel","nombreItem","notFoundText","Sin resultados","loadingText","Cargando...","placeholder","Tipo de Orden de Pago","formControlName","tipoOrdenPago",3,"items","change"],[1,"col-sm-8"],[3,"data","xAxisTicks","legendTitle"],[1,"col-md-4"],[3,"data"],[3,"title"]],template:function(e,t){1&e&&(c.Rb(0,"div",0),c.Rb(1,"div",1),c.Rb(2,"h4"),c.Hc(3," Egresos "),c.Mb(4,"hr"),c.Qb(),c.Qb(),c.Rb(5,"div",2),c.Rb(6,"div",3),c.Rb(7,"div",4),c.Rb(8,"div",5),c.Rb(9,"h4",6),c.Hc(10,"Ordenes de Pago Vs Contratistas"),c.Qb(),c.Qb(),c.Rb(11,"div",7),c.Rb(12,"div",2),c.Rb(13,"div",8),c.Rb(14,"form",9),c.Rb(15,"div",10),c.Rb(16,"label",11),c.Hc(17,"De "),c.Rb(18,"span",12),c.Hc(19,"*"),c.Qb(),c.Qb(),c.Rb(20,"div",13),c.Rb(21,"app-widget-input-date",14,15),c.cc("fechaValidaEvent",(function(e){return t.updateFechasEvent(e,"fechaInicial")})),c.Qb(),c.Qb(),c.Rb(23,"label",11),c.Hc(24,"Al "),c.Rb(25,"span",12),c.Hc(26,"*"),c.Qb(),c.Qb(),c.Rb(27,"div",13),c.Rb(28,"app-widget-input-date",14,16),c.cc("fechaValidaEvent",(function(e){return t.updateFechasEvent(e,"fechaFinal")})),c.Qb(),c.Qb(),c.Mb(30,"div",17),c.Mb(31,"div",18),c.Rb(32,"div",13),c.Rb(33,"ng-select",19),c.cc("change",(function(){return t.changeFilters()})),c.Fc(34,q,2,2,"ng-template",20),c.Qb(),c.Qb(),c.Mb(35,"div",18),c.Rb(36,"div",13),c.Rb(37,"ng-select",21),c.cc("change",(function(){return t.changeFilters()})),c.Fc(38,X,2,2,"ng-template",20),c.Qb(),c.Qb(),c.Qb(),c.Qb(),c.Qb(),c.Qb(),c.Rb(39,"div",2),c.Rb(40,"div",22),c.Mb(41,"app-ngx-area-chart",23),c.Qb(),c.Rb(42,"div",24),c.Mb(43,"app-ngx-advanced-pie-chart",25),c.Qb(),c.Qb(),c.Qb(),c.Qb(),c.Qb(),c.Qb(),c.Qb()),2&e&&(c.yb(14),c.mc("formGroup",t.groupForm),c.yb(7),c.mc("dataDate",t.fechaInicial),c.yb(7),c.mc("dataDate",t.fechaFinal),c.yb(5),c.mc("items",t.catalogoContratistas),c.yb(4),c.mc("items",t.catalogoOrdenPago),c.yb(4),c.mc("data",t.chart_1)("xAxisTicks",t.xAxisTicks)("legendTitle",t.montoLabel),c.yb(2),c.mc("data",t.chartB))},directives:[i.p,i.j,i.e,I,r.a,i.i,i.d,r.c,w,N.a],encapsulation:2}),e})(),data:{breadcrumbs:"\xd3rdenes de Pago Vs Contratistas"}},{path:"orden-compra-estructura-organizacional",component:(()=>{class e{constructor(e,t,a){this.formBuilder=e,this.apiRestSharedService=t,this.apiRestEgresosService=a,this.montoLabel="Monto",this.groupForm=this.formBuilder.group({fechaInicial:[{value:null,disabled:!1},[i.n.required]],fechaFinal:[{value:null,disabled:!1},[i.n.required]],tipoOrdenPago:[{value:null,disabled:!1}],nueAutoriza:[{value:null,disabled:!1}],nueElabora:[{value:null,disabled:!1}]}),this.getCatalogoOrdenPago(),this.getCatalogoNUEAutoriza(),this.getCatalogoNUEElabora()}ngOnInit(){this.fechaInicial=m().subtract(6,"months").format("YYYY-MM-DDTHH:mm:ss"),this.fechaFinal=m().format("YYYY-MM-DDTHH:mm:ss")}ngAfterViewInit(){}get fc(){return this.groupForm.controls}changeFilters(){this.groupForm.valid&&this.getDataAplicacionOrdenesCompra()}updateFechasEvent(e,t){this.fc[t].value!=e&&(this.groupForm.get(t).setValue(e),this.groupForm.get(t).updateValueAndValidity(),this.validacionPeriodo())}validacionPeriodo(){let e=this.groupForm.get("fechaInicial").value,t=this.groupForm.get("fechaFinal").value;e&&t&&(e>t?(this.groupForm.get("fechaFinal").setErrors({customError:"La fecha debe ser mayor a la fecha De"}),this.fechaFinComp.setCustomError("La fecha debe ser mayor a la fecha De")):(this.groupForm.get("fechaFinal").setErrors(null),this.fechaFinComp.setCustomError(null),this.changeFilters()))}getDataAplicacionOrdenesCompra(){const e={fechaInicio:m(this.fc.fechaInicial.value).format("DD/MM/YYYY"),fechaFin:m(this.fc.fechaFinal.value).format("DD/MM/YYYY"),tipoOrdenPago:this.fc.tipoOrdenPago.value?this.fc.tipoOrdenPago.value.claveSIM:"",nueElabora:this.fc.nueElabora.value?this.fc.nueElabora.value.claveSIM:"",nueAutoriza:this.fc.nueAutoriza.value?this.fc.nueAutoriza.value.claveSIM:""};console.log("::::: DATA REQUEST: ",JSON.stringify(e)),this.apiRestEgresosService.getEstOrganizacional(e).subscribe(e=>{e.body.length>0&&(this.chart_1=this.generateChart_1(e.body),e.body.length>=10&&this.generateXAxisTicks(e.body),this.chartB=this.generateChartB(null==e?void 0:e.body))},e=>{})}generateXAxisTicks(e){const t=b.map(e,e=>this.transformDate(e.fecha)),a=b.map(t,e=>m(e)),o=m.min(a),i=m.max(a).diff(o,"days"),r=Math.round(i/6);this.xAxisTicks=b.map([0,1,2,3,4,5],(e,t)=>m(o).add(r*e,"days").format("YYYY-MM-DDTHH:mm:ss"))}generateChartB(e){const t=[{name:"Monto total pagos",value:b.reduce(e,(e,t)=>e+t.montoTotalPagos,0)}];return console.log("::::: CHART_A: ",JSON.stringify(t)),t}generateChart_1(e){let t=[],a={name:"Monto total pagos",series:b.map(e,e=>({name:this.transformDate(e.fecha),value:e.montoTotalPagos}))};return t.push(a),t}transformDate(e){const t=e.split("/");return`${t[2]}-${t[1]}-${t[0]}T00:00:00`}getCatalogoOrdenPago(){this.apiRestSharedService.getCatalogo("TIPO_ORD_PAG").subscribe(e=>{e.body&&(this.catalogoOrdenPago=e.body)},e=>{})}getCatalogoNUEElabora(){this.apiRestSharedService.getCatalogo("NUE").subscribe(e=>{e.body&&(this.catalogoNUEElabora=e.body)},e=>{})}getCatalogoNUEAutoriza(){this.apiRestSharedService.getCatalogo("NUE").subscribe(e=>{e.body&&(this.catalogoNUEAutoriza=e.body)},e=>{})}}return e.\u0275fac=function(t){return new(t||e)(c.Lb(i.c),c.Lb(g.a),c.Lb(C))},e.\u0275cmp=c.Fb({type:e,selectors:[["app-orden-compra-estructura-organizacional"]],viewQuery:function(e,t){var a;1&e&&(c.Lc(K,!0),c.Lc(W,!0)),2&e&&(c.uc(a=c.dc())&&(t.fechaInicioComp=a.first),c.uc(a=c.dc())&&(t.fechaFinComp=a.first))},decls:48,vars:10,consts:[[1,"container-fluid"],[1,"page-title"],[1,"row"],[1,"col","col-sm-12"],[1,"card"],[1,"card-heading","border","bottom"],[1,"card-title"],[1,"card-block","mb-5"],[1,"col-md-12"],[3,"formGroup"],[1,"form-group","row","no-gutters"],["for","staticEmail",1,"col-md-1","col-form-label","text-center"],[1,"text-danger"],[1,"col-md-3"],[3,"dataDate","fechaValidaEvent"],["fechaInicioComp",""],["fechaFinComp",""],[1,"col-md-1"],["bindLabel","nombreItem","notFoundText","Sin resultados","loadingText","Cargando...","placeholder","Tipo de Orden de Pago","formControlName","tipoOrdenPago",3,"items","change"],["ng-option-tmp",""],[1,"col-md-12","my-1"],["bindLabel","nombreItem","notFoundText","Sin resultados","loadingText","Cargando...","placeholder","NUE Elabora","formControlName","nueElabora",3,"items","change"],["bindLabel","nombreItem","notFoundText","Sin resultados","loadingText","Cargando...","placeholder","NUE Autoriza","formControlName","nueAutoriza",3,"items","change"],[1,"col-sm-8"],[3,"data","xAxisTicks","legendTitle"],[1,"col-md-4"],[3,"data"],[3,"title"]],template:function(e,t){1&e&&(c.Rb(0,"div",0),c.Rb(1,"div",1),c.Rb(2,"h4"),c.Hc(3," Egresos "),c.Mb(4,"hr"),c.Qb(),c.Qb(),c.Rb(5,"div",2),c.Rb(6,"div",3),c.Rb(7,"div",4),c.Rb(8,"div",5),c.Rb(9,"h4",6),c.Hc(10," Ordenes de compra por estructura organizacional "),c.Qb(),c.Qb(),c.Rb(11,"div",7),c.Rb(12,"div",2),c.Rb(13,"div",8),c.Rb(14,"form",9),c.Rb(15,"div",10),c.Rb(16,"label",11),c.Hc(17,"De "),c.Rb(18,"span",12),c.Hc(19,"*"),c.Qb(),c.Qb(),c.Rb(20,"div",13),c.Rb(21,"app-widget-input-date",14,15),c.cc("fechaValidaEvent",(function(e){return t.updateFechasEvent(e,"fechaInicial")})),c.Qb(),c.Qb(),c.Rb(23,"label",11),c.Hc(24,"Al "),c.Rb(25,"span",12),c.Hc(26,"*"),c.Qb(),c.Qb(),c.Rb(27,"div",13),c.Rb(28,"app-widget-input-date",14,16),c.cc("fechaValidaEvent",(function(e){return t.updateFechasEvent(e,"fechaFinal")})),c.Qb(),c.Qb(),c.Mb(30,"div",17),c.Rb(31,"div",13),c.Rb(32,"ng-select",18),c.cc("change",(function(){return t.changeFilters()})),c.Fc(33,Z,2,2,"ng-template",19),c.Qb(),c.Qb(),c.Mb(34,"div",20),c.Mb(35,"div",17),c.Rb(36,"div",13),c.Rb(37,"ng-select",21),c.cc("change",(function(){return t.changeFilters()})),c.Fc(38,ee,2,2,"ng-template",19),c.Qb(),c.Qb(),c.Mb(39,"div",17),c.Rb(40,"div",13),c.Rb(41,"ng-select",22),c.cc("change",(function(){return t.changeFilters()})),c.Fc(42,te,2,2,"ng-template",19),c.Qb(),c.Qb(),c.Qb(),c.Qb(),c.Qb(),c.Qb(),c.Rb(43,"div",2),c.Rb(44,"div",23),c.Mb(45,"app-ngx-area-chart",24),c.Qb(),c.Rb(46,"div",25),c.Mb(47,"app-ngx-advanced-pie-chart",26),c.Qb(),c.Qb(),c.Qb(),c.Qb(),c.Qb(),c.Qb(),c.Qb()),2&e&&(c.yb(14),c.mc("formGroup",t.groupForm),c.yb(7),c.mc("dataDate",t.fechaInicial),c.yb(7),c.mc("dataDate",t.fechaFinal),c.yb(4),c.mc("items",t.catalogoOrdenPago),c.yb(5),c.mc("items",t.catalogoNUEElabora),c.yb(4),c.mc("items",t.catalogoNUEAutoriza),c.yb(4),c.mc("data",t.chart_1)("xAxisTicks",t.xAxisTicks)("legendTitle",t.montoLabel),c.yb(2),c.mc("data",t.chartB))},directives:[i.p,i.j,i.e,I,r.a,i.i,i.d,r.c,w,N.a],encapsulation:2}),e})(),data:{breadcrumbs:"\xd3rdenes de compra por estructura organizacional"}}]}];let oe=(()=>{class e{}return e.\u0275mod=c.Jb({type:e}),e.\u0275inj=c.Ib({factory:function(t){return new(t||e)},imports:[[n.i.forChild(ae)],n.i]}),e})();var ie=a("LTD9"),re=a("PCNd");let ne=(()=>{class e{}return e.\u0275mod=c.Jb({type:e}),e.\u0275inj=c.Ib({factory:function(t){return new(t||e)},imports:[[o.c,i.f,i.m,r.b,oe,ie.a,re.a]]}),e})()}}]);