(window.webpackJsonp=window.webpackJsonp||[]).push([[7],{pqB2:function(o,a,e){"use strict";e.r(a),e.d(a,"IngresosModule",(function(){return _}));var t=e("ofXK"),i=e("3Pt+"),r=e("ZOsW"),l=e("tyNb"),n=e("LvDl"),s=e("fXoL"),c=e("LRne"),b=e("3E0/"),d=e("AytR"),m=e("tk/3");const g="/API-INGRESOS-DE/v1/api/ingresos";let u=(()=>{class o{constructor(o){this.http=o}getMontosPorCanalPago(o){if("MOCK"===d.a.name){let o={body:[{cantidadPagos:645669,montoTotalPagos:77732804,canalPago:"APP MOVIL"},{cantidadPagos:752531,montoTotalPagos:73597507,canalPago:"VENTANILLA"}]};return Object(c.a)(o).pipe(Object(b.a)(1e3))}return this.http.get(`${d.a.urlWS}${g}/obtenerMontoPorCanal`,{params:o})}getIngresosPorColonia(o){if("MOCK"===d.a.name){let o={body:[{colonia:"AMAZCALA",montoTotalPagos:49727729,latitud:"20.729288",longitud:"-100.284776",cantidadPredios:348579},{colonia:"ATONGO",montoTotalPagos:59043961,latitud:"20.770545",longitud:"-100.237857",cantidadPredios:409651},{colonia:"CALAMANDA",montoTotalPagos:21831729,latitud:"20.549836",longitud:"-100.206134",cantidadPredios:165270},{colonia:"CERRO PRIETO",montoTotalPagos:9446257,latitud:"20.672383",longitud:"-100.299567",cantidadPredios:93925},{colonia:"CRUZ ALTA",montoTotalPagos:6173346,latitud:null,longitud:null,cantidadPredios:131820},{colonia:"DEL PANTEON",montoTotalPagos:5107289,latitud:null,longitud:null,cantidadPredios:248955}]};return Object(c.a)(o).pipe(Object(b.a)(1e3))}return this.http.get(`${d.a.urlWS}${g}/mapaCalorClavesPagadas`,{params:o})}graficaComparativoTotalIngresosPorAnio(){if("MOCK"===d.a.name){let o={body:[{fecha:2019,impuesto:"PREDIAL",sumaTotalPagos:52e6},{fecha:2020,impuesto:"PREDIAL",sumaTotalPagos:77732804},{fecha:2019,impuesto:"TRASLADO DE DOMINIO",sumaTotalPagos:5e4},{fecha:2020,impuesto:"TRASLADO DE DOMINIO",sumaTotalPagos:73597507}]};return Object(c.a)(o)}return this.http.get(`${d.a.urlWS}${g}/graficaComparativoTotalIngresosPorAnio`)}getMontosTotalesIngresos(o){if("MOCK"===d.a.name){let o={body:[{anio:"2020",mes:"7",montoTotalPagos:75661875,cantidadPagos:"694988"},{anio:"2020",mes:"8",montoTotalPagos:75668436,cantidadPagos:"703212"},{anio:"2019",mes:"2",montoTotalPagos:5e7,cantidadPagos:"5000"},{anio:"2019",mes:"5",montoTotalPagos:2e6,cantidadPagos:"10000"},{anio:"2019",mes:"8",montoTotalPagos:5e4,cantidadPagos:"1000"}]};return Object(c.a)(o).pipe(Object(b.a)(1e3))}return this.http.get(`${d.a.urlWS}${g}/montoIngresos`,{params:o})}getMontosTotalesIngresosPorAccesorios(o){if("MOCK"===d.a.name){let o={body:[{anio:"2020",mes:"7",montoTotalPagos:75661875,cantidadPagos:"694988"},{anio:"2020",mes:"8",montoTotalPagos:75668436,cantidadPagos:"703212"},{anio:"2019",mes:"2",montoTotalPagos:5e7,cantidadPagos:"5000"},{anio:"2019",mes:"5",montoTotalPagos:2e6,cantidadPagos:"10000"},{anio:"2019",mes:"8",montoTotalPagos:5e4,cantidadPagos:"1000"}]};return Object(c.a)(o).pipe(Object(b.a)(1e3))}return this.http.get(`${d.a.urlWS}${g}/montoIngresosAccesorios`,{params:o})}}return o.\u0275fac=function(a){return new(a||o)(s.Zb(m.b))},o.\u0275prov=s.Hb({token:o,factory:o.\u0275fac,providedIn:"root"}),o})();var v=e("Fls8");let h=(()=>{class o{constructor(o){this.apiRestIngresosService=o,this.colorsChart_1=["#49BDFD","#42D4E3","#55FADC","#42E398","#49FD76"],this.chart_1=[]}ngOnInit(){this.filterGrafica()}filterGrafica(){this.apiRestIngresosService.graficaComparativoTotalIngresosPorAnio().subscribe(o=>{this.chart_1=this.generarGrafica(o.body)},o=>{})}generarGrafica(o){return n.chain(o).groupBy("fecha").map((o,a)=>({name:a,series:n.map(o,o=>({name:o.impuesto,value:o.sumaTotalPagos}))})).value()}}return o.\u0275fac=function(a){return new(a||o)(s.Lb(u))},o.\u0275cmp=s.Fb({type:o,selectors:[["app-comparativo-ingresos-anio"]],decls:15,vars:2,consts:[[1,"container-fluid"],[1,"page-title"],[1,"row"],[1,"col","col-sm-12"],[1,"card"],[1,"card-heading","border","bottom"],[1,"card-title"],[1,"card-block","mb-5"],[1,"col-sm-12_","mb-5","mt-1"],[3,"data","colors"]],template:function(o,a){1&o&&(s.Rb(0,"div",0),s.Rb(1,"div",1),s.Rb(2,"h4"),s.Hc(3," Obras "),s.Mb(4,"hr"),s.Qb(),s.Qb(),s.Rb(5,"div",2),s.Rb(6,"div",3),s.Rb(7,"div",4),s.Rb(8,"div",5),s.Rb(9,"h4",6),s.Hc(10," Comparativo de Ingresos por Anio "),s.Qb(),s.Qb(),s.Rb(11,"div",7),s.Mb(12,"div",8),s.Mb(13,"app-ngx-grouped-vertical-bar-chart",9),s.Qb(),s.Qb(),s.Mb(14,"div"),s.Qb(),s.Qb(),s.Qb()),2&o&&(s.yb(13),s.mc("data",a.chart_1)("colors",a.colorsChart_1))},directives:[v.a],styles:[""]}),o})();var p=e("/TkA");let f=(()=>{class o{constructor(o,a,e){this.apiRestIngresosService=o,this.apiRestSharedService=a,this.formBuilder=e,this.catalogoAnios=[{nombreItem:2020},{nombreItem:2019},{nombreItem:2018},{nombreItem:2017},{nombreItem:2016},{nombreItem:2015}],this.catalogoMeses=[{cve:1,valor:"Enero"},{cve:2,valor:"Febrero"},{cve:3,valor:"Marzo"},{cve:4,valor:"Abril"},{cve:5,valor:"Mayo"},{cve:6,valor:"Junio"},{cve:7,valor:"Julio"},{cve:8,valor:"Agosto"},{cve:9,valor:"Septiembre"},{cve:10,valor:"Octubre"},{cve:11,valor:"Noviembre"},{cve:12,valor:"Diciembre"}],this.catalogoImpuestos=[],this.catalogoColonias=[],this.catalogoLocalidad=[],this.chart_1=[],this.colorsChart_1=["#49BDFD","#42D4E3","#55FADC","#42E398","#49FD76"]}ngOnInit(){this.groupForm=this.formBuilder.group({anio:[{value:null,disabled:!1},[i.n.required]],mes:[{value:null,disabled:!1}],colonia:[{value:null,disabled:!1}],localidad:[{value:null,disabled:!1}],impuesto:[{value:null,disabled:!1}]}),this.fc.anio.setValue({nombreItem:2020}),this.getCatalogoColonias(),this.getCatalogoLocalidad(),this.getCatalogoImpuestos(),this.getMontosTotales()}changeFilters(){this.groupForm.valid&&this.getMontosTotales()}getMontosTotales(){const o={anio:this.fc.anio.value.nombreItem,mes:this.fc.mes.value?this.fc.mes.value.cve:"",colonia:this.fc.colonia.value?this.fc.colonia.value.claveSIM:"",ciudad:this.fc.localidad.value?this.fc.localidad.value.claveSIM:"",tipoImpuesto:this.fc.impuesto.value?this.fc.impuesto.value.claveSIM:""};console.log("Aqui"),this.apiRestIngresosService.getMontosTotalesIngresos(o).subscribe(o=>{this.chart_1=this.generarGrafica(o.body)},o=>{})}generarGrafica(o){return n.map({1:"Enero",2:"Febrero",3:"Marzo",4:"Abril",5:"Mayo",6:"Junio",7:"Julio",8:"Agosto",9:"Septiembre",10:"Octubre",11:"Noviembre",12:"Diciembre"},(a,e)=>({name:a,series:n.map(n.filter(o,o=>o.mes==e),o=>({name:null==o?void 0:o.anio,value:null==o?void 0:o.montoTotalPagos,tooltipData:{name:"Cantidad Pagos",value:this.formatNumber(null==o?void 0:o.cantidadPagos)}}))}))}get fc(){return this.groupForm.controls}getCatalogoColonias(){this.apiRestSharedService.getCatalogo("COLONIA").subscribe(o=>{o.body&&(this.catalogoColonias=o.body)},o=>{})}getCatalogoLocalidad(){this.apiRestSharedService.getCatalogo("LOCALIDAD").subscribe(o=>{o.body&&(this.catalogoLocalidad=o.body)},o=>{})}getCatalogoImpuestos(){this.apiRestSharedService.getCatalogo("CAT_ADEUDO").subscribe(o=>{o.body&&(this.catalogoImpuestos=o.body)},o=>{})}yAxisTickFormatting(o){return new Intl.NumberFormat("en-US",{style:"currency",currency:"USD",minimumFractionDigits:2}).format(o)}formatNumber(o){return o.toString().replace(/\B(?=(\d{3})+(?!\d))/g,",")}}return o.\u0275fac=function(a){return new(a||o)(s.Lb(u),s.Lb(p.a),s.Lb(i.c))},o.\u0275cmp=s.Fb({type:o,selectors:[["app-montos-totales-ingresos"]],decls:37,vars:8,consts:[[1,"container-fluid"],[1,"page-title"],[1,"row"],[1,"col","col-sm-12"],[1,"card"],[1,"card-heading","border","bottom"],[1,"card-title"],[1,"card-block","mb-5"],[1,"col-sm-12_","mb-5","mt-1"],[1,"form-inline","no-gutters",3,"formGroup"],[1,"col-md-2"],["bindLabel","nombreItem","formControlName","anio",3,"items","change"],["bindLabel","valor","formControlName","mes",3,"items","change"],["bindLabel","nombreItem","formControlName","impuesto",3,"items","change"],[1,"col-md-12","my-1"],["bindLabel","nombreItem","formControlName","colonia",3,"items","change"],["bindLabel","nombreItem","formControlName","localidad",3,"items","change"],[3,"data","colors"]],template:function(o,a){1&o&&(s.Rb(0,"div",0),s.Rb(1,"div",1),s.Rb(2,"h4"),s.Hc(3," Ingresos "),s.Mb(4,"hr"),s.Qb(),s.Qb(),s.Rb(5,"div",2),s.Rb(6,"div",3),s.Rb(7,"div",4),s.Rb(8,"div",5),s.Rb(9,"h4",6),s.Hc(10," Montos totales de Ingresos "),s.Qb(),s.Qb(),s.Rb(11,"div",7),s.Rb(12,"div",8),s.Rb(13,"form",9),s.Rb(14,"label",10),s.Hc(15,"A\xf1o"),s.Qb(),s.Rb(16,"div",10),s.Rb(17,"ng-select",11),s.cc("change",(function(){return a.changeFilters()})),s.Qb(),s.Qb(),s.Rb(18,"label",10),s.Hc(19,"Mes"),s.Qb(),s.Rb(20,"div",10),s.Rb(21,"ng-select",12),s.cc("change",(function(){return a.changeFilters()})),s.Qb(),s.Qb(),s.Rb(22,"label",10),s.Hc(23,"Impuesto"),s.Qb(),s.Rb(24,"div",10),s.Rb(25,"ng-select",13),s.cc("change",(function(){return a.changeFilters()})),s.Qb(),s.Qb(),s.Mb(26,"div",14),s.Rb(27,"label",10),s.Hc(28,"Localidad"),s.Qb(),s.Rb(29,"div",10),s.Rb(30,"ng-select",15),s.cc("change",(function(){return a.changeFilters()})),s.Qb(),s.Qb(),s.Rb(31,"label",10),s.Hc(32,"Colonia"),s.Qb(),s.Rb(33,"div",10),s.Rb(34,"ng-select",16),s.cc("change",(function(){return a.changeFilters()})),s.Qb(),s.Qb(),s.Qb(),s.Qb(),s.Mb(35,"app-ngx-grouped-vertical-bar-chart",17),s.Qb(),s.Qb(),s.Mb(36,"div"),s.Qb(),s.Qb(),s.Qb()),2&o&&(s.yb(13),s.mc("formGroup",a.groupForm),s.yb(4),s.mc("items",a.catalogoAnios),s.yb(4),s.mc("items",a.catalogoMeses),s.yb(4),s.mc("items",a.catalogoImpuestos),s.yb(5),s.mc("items",a.catalogoLocalidad),s.yb(4),s.mc("items",a.catalogoColonias),s.yb(1),s.mc("data",a.chart_1)("colors",a.colorsChart_1))},directives:[i.p,i.j,i.e,r.a,i.i,i.d,v.a],encapsulation:2}),o})(),R=(()=>{class o{constructor(o,a,e){this.apiRestIngresosService=o,this.apiRestSharedService=a,this.formBuilder=e,this.catalogoAnios=[{nombreItem:2020},{nombreItem:2019},{nombreItem:2018},{nombreItem:2017},{nombreItem:2016},{nombreItem:2015}],this.catalogoMeses=[{cve:1,valor:"Enero"},{cve:2,valor:"Febrero"},{cve:3,valor:"Marzo"},{cve:4,valor:"Abril"},{cve:5,valor:"Mayo"},{cve:6,valor:"Junio"},{cve:7,valor:"Julio"},{cve:8,valor:"Agosto"},{cve:9,valor:"Septiembre"},{cve:10,valor:"Octubre"},{cve:11,valor:"Noviembre"},{cve:12,valor:"Diciembre"}],this.catalogoColonias=[],this.catalogoLocalidad=[],this.catalogoAccesorios=[],this.catalogoImpuestos=[],this.chart_1=[],this.colorsChart_1=["#49BDFD","#42D4E3","#55FADC","#42E398","#49FD76"]}ngOnInit(){this.groupForm=this.formBuilder.group({anio:[{value:null,disabled:!1},[i.n.required]],mes:[{value:null,disabled:!1}],colonia:[{value:null,disabled:!1}],localidad:[{value:null,disabled:!1}],impuesto:[{value:null,disabled:!1}],accesorio:[{value:null,disabled:!1}]}),this.fc.anio.setValue({nombreItem:2020}),this.getCatalogoColonias(),this.getCatalogoLocalidad(),this.getCatalogoImpuestos(),this.getMontosTotales()}changeFilters(){this.groupForm.valid&&this.getMontosTotales()}getMontosTotales(){this.apiRestIngresosService.getMontosTotalesIngresosPorAccesorios({anio:this.fc.anio.value.nombreItem,mes:this.fc.mes.value?this.fc.mes.value.cve:"",colonia:this.fc.colonia.value?this.fc.colonia.value.claveSIM:"",ciudad:this.fc.localidad.value?this.fc.localidad.value.claveSIM:"",tipoImpuesto:this.fc.impuesto.value?this.fc.impuesto.value.claveSIM:"",accesorio:this.fc.accesorio.value?this.fc.accesorio.value.claveSIM:""}).subscribe(o=>{this.chart_1=this.generarGrafica(o.body)},o=>{})}generarGrafica(o){const a=n.map({1:"Enero",2:"Febrero",3:"Marzo",4:"Abril",5:"Mayo",6:"Junio",7:"Julio",8:"Agosto",9:"Septiembre",10:"Octubre",11:"Noviembre",12:"Diciembre"},(a,e)=>({name:a,series:n.map(n.filter(o,o=>o.mes==e),o=>({name:null==o?void 0:o.anio,value:null==o?void 0:o.montoTotalPagos,tooltipData:{name:"Cantidad Pagos",value:this.formatNumber(null==o?void 0:o.cantidadPagos)}}))}));return console.log("::::: CHART_1: ",JSON.stringify(a)),a}get fc(){return this.groupForm.controls}getCatalogoColonias(){this.apiRestSharedService.getCatalogo("COLONIA").subscribe(o=>{o.body&&(this.catalogoColonias=o.body)},o=>{})}getCatalogoLocalidad(){this.apiRestSharedService.getCatalogo("LOCALIDAD").subscribe(o=>{o.body&&(this.catalogoLocalidad=o.body)},o=>{})}getCatalogoImpuestos(){this.apiRestSharedService.getCatalogo("CAT_ADEUDO").subscribe(o=>{o.body&&(this.catalogoImpuestos=o.body)},o=>{})}yAxisTickFormatting(o){return new Intl.NumberFormat("en-US",{style:"currency",currency:"USD",minimumFractionDigits:2}).format(o)}formatNumber(o){return o.toString().replace(/\B(?=(\d{3})+(?!\d))/g,",")}}return o.\u0275fac=function(a){return new(a||o)(s.Lb(u),s.Lb(p.a),s.Lb(i.c))},o.\u0275cmp=s.Fb({type:o,selectors:[["app-montos-totales-ingresos-por-accesorios"]],decls:41,vars:9,consts:[[1,"container-fluid"],[1,"page-title"],[1,"row"],[1,"col","col-sm-12"],[1,"card"],[1,"card-heading","border","bottom"],[1,"card-title"],[1,"card-block","mb-5"],[1,"col-sm-12_","mb-5","mt-1"],[1,"form-inline","no-gutters",3,"formGroup"],[1,"col-md-2"],["bindLabel","nombreItem","formControlName","anio",3,"items","change"],["bindLabel","valor","formControlName","mes",3,"items","change"],["bindLabel","nombreItem","formControlName","accesorio",3,"items","change"],[1,"col-md-12","my-1"],["bindLabel","nombreItem","formControlName","impuesto",3,"items","change"],["bindLabel","nombreItem","formControlName","colonia",3,"items","change"],["bindLabel","nombreItem","formControlName","localidad",3,"items","change"],[3,"data","colors"]],template:function(o,a){1&o&&(s.Rb(0,"div",0),s.Rb(1,"div",1),s.Rb(2,"h4"),s.Hc(3," Ingresos "),s.Mb(4,"hr"),s.Qb(),s.Qb(),s.Rb(5,"div",2),s.Rb(6,"div",3),s.Rb(7,"div",4),s.Rb(8,"div",5),s.Rb(9,"h4",6),s.Hc(10," Montos totales de Ingresos por accesorios "),s.Qb(),s.Qb(),s.Rb(11,"div",7),s.Rb(12,"div",8),s.Rb(13,"form",9),s.Rb(14,"label",10),s.Hc(15,"A\xf1o"),s.Qb(),s.Rb(16,"div",10),s.Rb(17,"ng-select",11),s.cc("change",(function(){return a.changeFilters()})),s.Qb(),s.Qb(),s.Rb(18,"label",10),s.Hc(19,"Mes"),s.Qb(),s.Rb(20,"div",10),s.Rb(21,"ng-select",12),s.cc("change",(function(){return a.changeFilters()})),s.Qb(),s.Qb(),s.Rb(22,"label",10),s.Hc(23,"Accesorio"),s.Qb(),s.Rb(24,"div",10),s.Rb(25,"ng-select",13),s.cc("change",(function(){return a.changeFilters()})),s.Qb(),s.Qb(),s.Mb(26,"div",14),s.Rb(27,"label",10),s.Hc(28,"Impuesto"),s.Qb(),s.Rb(29,"div",10),s.Rb(30,"ng-select",15),s.cc("change",(function(){return a.changeFilters()})),s.Qb(),s.Qb(),s.Rb(31,"label",10),s.Hc(32,"Localidad"),s.Qb(),s.Rb(33,"div",10),s.Rb(34,"ng-select",16),s.cc("change",(function(){return a.changeFilters()})),s.Qb(),s.Qb(),s.Rb(35,"label",10),s.Hc(36,"Colonia"),s.Qb(),s.Rb(37,"div",10),s.Rb(38,"ng-select",17),s.cc("change",(function(){return a.changeFilters()})),s.Qb(),s.Qb(),s.Qb(),s.Qb(),s.Mb(39,"app-ngx-grouped-vertical-bar-chart",18),s.Qb(),s.Qb(),s.Mb(40,"div"),s.Qb(),s.Qb(),s.Qb()),2&o&&(s.yb(13),s.mc("formGroup",a.groupForm),s.yb(4),s.mc("items",a.catalogoAnios),s.yb(4),s.mc("items",a.catalogoMeses),s.yb(4),s.mc("items",a.catalogoAccesorios),s.yb(5),s.mc("items",a.catalogoImpuestos),s.yb(4),s.mc("items",a.catalogoLocalidad),s.yb(4),s.mc("items",a.catalogoColonias),s.yb(1),s.mc("data",a.chart_1)("colors",a.colorsChart_1))},directives:[i.p,i.j,i.e,r.a,i.i,i.d,v.a],encapsulation:2}),o})();const C=function(o){return{"is-invalid":o}};let I=(()=>{class o{constructor(o){this.formBuilder=o,this.catAnios=["2020","2019","2018","2017","2016","2015"],this.catMeses=[{clave:1,nombre:"Enero"},{clave:2,nombre:"Febrero"},{clave:3,nombre:"Marzo"},{clave:4,nombre:"Abril"},{clave:5,nombre:"Mayo"},{clave:6,nombre:"Junio"},{clave:7,nombre:"Julio"},{clave:8,nombre:"Agosto"},{clave:9,nombre:"Septiembre"},{clave:10,nombre:"Octubre"},{clave:11,nombre:"Noviembre"},{clave:12,nombre:"Diciembre"}],this.filtrosValidosEvent=new s.n}ngOnInit(){this.groupForm=this.formBuilder.group({anio:[{value:"2020",disabled:!1},[i.n.required]],mes:[{value:null,disabled:!1}],localidad:[{value:null,disabled:!1}],colonia:[{value:null,disabled:!1}],medioFormaPago:[{value:null,disabled:!1}]}),this.changeSelectFilter()}get fc(){return this.groupForm.controls}changeSelectFilter(o,a){o||"anio"!=a||this.fc.anio.setValue("2020"),this.groupForm.valid&&this.filtrosValidosEvent.emit(this.groupForm.value)}}return o.\u0275fac=function(a){return new(a||o)(s.Lb(i.c))},o.\u0275cmp=s.Fb({type:o,selectors:[["app-ingresos-grafico5-bar-filters"]],inputs:{catLocalidad:"catLocalidad",catColonia:"catColonia",CatMedioFormaPago:"CatMedioFormaPago"},outputs:{filtrosValidosEvent:"filtrosValidosEvent"},decls:26,vars:9,consts:[[1,"row","mb-5","mt-1"],[1,"col-sm-12"],[1,"form-inline","no-gutters",3,"formGroup"],[1,"col-md-2"],[1,"text-danger"],["notFoundText","Sin resultados","loadingText","Cargando...","formControlName","anio",3,"items","change"],["bindLabel","nombre","bindValue","clave","notFoundText","Sin resultados","loadingText","Cargando...","placeholder","Seleccione...","formControlName","mes",3,"items","ngClass","change"],["bindLabel","nombreItem","bindValue","claveSIM","notFoundText","Sin resultados","loadingText","Cargando...","formControlName","medioFormaPago",3,"items","change"],[1,"col-md-12","my-1"],["bindLabel","nombreItem","bindValue","claveSIM","notFoundText","Sin resultados","loadingText","Cargando...","placeholder","Seleccione...","formControlName","localidad",3,"items","change"],["bindLabel","nombreItem","bindValue","claveSIM","notFoundText","Sin resultados","loadingText","Cargando...","placeholder","Seleccione...","formControlName","colonia",3,"items","change"]],template:function(o,a){1&o&&(s.Rb(0,"div",0),s.Rb(1,"div",1),s.Rb(2,"form",2),s.Rb(3,"label",3),s.Hc(4,"A\xf1o\xa0"),s.Rb(5,"span",4),s.Hc(6,"*"),s.Qb(),s.Qb(),s.Rb(7,"div",3),s.Rb(8,"ng-select",5),s.cc("change",(function(o){return a.changeSelectFilter(o,"anio")})),s.Qb(),s.Qb(),s.Rb(9,"label",3),s.Hc(10,"Mes "),s.Qb(),s.Rb(11,"div",3),s.Rb(12,"ng-select",6),s.cc("change",(function(o){return a.changeSelectFilter(o,"mes")})),s.Qb(),s.Qb(),s.Rb(13,"label",3),s.Hc(14,"Medio Pago"),s.Qb(),s.Rb(15,"div",3),s.Rb(16,"ng-select",7),s.cc("change",(function(o){return a.changeSelectFilter(o,"medioFormaPago")})),s.Qb(),s.Qb(),s.Mb(17,"div",8),s.Rb(18,"label",3),s.Hc(19,"Localidad"),s.Qb(),s.Rb(20,"div",3),s.Rb(21,"ng-select",9),s.cc("change",(function(o){return a.changeSelectFilter(o,"localidad")})),s.Qb(),s.Qb(),s.Rb(22,"label",3),s.Hc(23,"Colonias"),s.Qb(),s.Rb(24,"div",3),s.Rb(25,"ng-select",10),s.cc("change",(function(o){return a.changeSelectFilter(o,"colonia")})),s.Qb(),s.Qb(),s.Qb(),s.Qb(),s.Qb()),2&o&&(s.yb(2),s.mc("formGroup",a.groupForm),s.yb(6),s.mc("items",a.catAnios),s.yb(4),s.mc("items",a.catMeses)("ngClass",s.qc(7,C,(null==a.fc.mesInicial?null:a.fc.mesInicial.errors)&&(null==a.fc.mesInicial?null:a.fc.mesInicial.dirty))),s.yb(4),s.mc("items",a.CatMedioFormaPago),s.yb(5),s.mc("items",a.catLocalidad),s.yb(4),s.mc("items",a.catColonia))},directives:[i.p,i.j,i.e,r.a,i.i,i.d,t.l],styles:[""]}),o})();var Q=e("rFjA");function P(o,a){if(1&o&&(s.Rb(0,"div",16),s.Rb(1,"h2",17),s.Hc(2),s.Qb(),s.Rb(3,"span",18),s.Hc(4),s.Qb(),s.Rb(5,"span",19),s.Hc(6),s.Qb(),s.Rb(7,"div",20),s.Mb(8,"div",21),s.Qb(),s.Qb()),2&o){const o=a.$implicit;s.yb(2),s.Ic(o.value),s.yb(2),s.Ic(o.name),s.yb(2),s.Ic(o.porcent),s.yb(2),s.Dc("width",o.porcent)("background-color",o.color)}}const A=["#7E72A8","#AE9AF5","#D1F58D","#A85177","#F582B3","#49BDFD","#42D4E3","#55FADC","#42E398","#49FD76"];let F=(()=>{class o{constructor(o,a){this.apiRestIngresosService=o,this.apiRestSharedService=a,this.colors=A,this.labelXChartA="Medios Forma Pago",this.labelYChartA="Monto Total Pagos",this.catalogos={LOCALIDAD:[],COLONIA:[],MEDIO_FORMA_PAGO:[]},n.each(this.catalogos,(o,a)=>{this.getCatalogo(a)})}ngOnInit(){}getCatalogo(o){this.apiRestSharedService.getCatalogo(o).subscribe(a=>{a&&(this.catalogos[o]=a.body)},o=>{})}getMontosPorCanalPago(o){this.apiRestIngresosService.getMontosPorCanalPago({anio:null==o?void 0:o.anio,mes:(null==o?void 0:o.mes)?null==o?void 0:o.mes:"",canalPago:(null==o?void 0:o.medioFormaPago)?null==o?void 0:o.medioFormaPago:"",localidad:(null==o?void 0:o.localidad)?null==o?void 0:o.localidad:"",colonia:(null==o?void 0:o.colonia)?null==o?void 0:o.colonia:""}).subscribe(o=>{o&&(this.chartA=this.generateChart_a(null==o?void 0:o.body),this.chartB=this.generateChart_b(null==o?void 0:o.body))},o=>{})}generateChart_a(o){const a=n.map(o,(o,a)=>({name:null==o?void 0:o.canalPago,value:null==o?void 0:o.montoTotalPagos}));return console.log("::::: CHART_A: ",JSON.stringify(a)),a}generateChart_b(o){const a=o.reduce((o,a)=>o+a.cantidadPagos,0),e=n.map(o,(o,e)=>({name:null==o?void 0:o.canalPago,value:""+(null==o?void 0:o.cantidadPagos.toString().replace(/\B(?=(\d{3})+(?!\d))/g,",")),porcent:this.generatePorcent(a,null==o?void 0:o.cantidadPagos),color:A[e]})),t={total:""+a.toString().replace(/\B(?=(\d{3})+(?!\d))/g,","),data:e};return console.log("::::: CHART_B: ",JSON.stringify(t)),t}generatePorcent(o,a){return o&&a?Math.round(100*a/o)+"%":"0%"}}return o.\u0275fac=function(a){return new(a||o)(s.Lb(u),s.Lb(p.a))},o.\u0275cmp=s.Fb({type:o,selectors:[["app-claves-catastro-canal-pago"]],decls:24,vars:8,consts:[[1,"container-fluid"],[1,"page-title"],[1,"row"],[1,"col","col-sm-12"],[1,"card"],[1,"card-heading","border","bottom"],[1,"card-title"],[1,"card-block","mb-5"],[3,"catLocalidad","catColonia","CatMedioFormaPago","filtrosValidosEvent"],[1,"col-md-8"],[3,"data","yAxisLabel","xAxisLabel"],[1,"col-md-4","border","left","border-hide-sm"],[1,"mrg-btm-5"],[1,"no-mrg-vertical","font-size-35"],[1,"text-semibold"],["class","mrg-top-10",4,"ngFor","ngForOf"],[1,"mrg-top-10"],[1,"no-mrg-btm"],[1,"inline-block","mrg-btm-10","font-size-13","text-semibold"],[1,"pull-right","pdd-right-10","font-size-13"],[1,"progress","progress-primary"],["role","progressbar","aria-valuenow","70","aria-valuemin","0","aria-valuemax","100",1,"progress-bar"]],template:function(o,a){1&o&&(s.Rb(0,"div",0),s.Rb(1,"div",1),s.Rb(2,"h4"),s.Hc(3," Ingresos "),s.Mb(4,"hr"),s.Qb(),s.Qb(),s.Rb(5,"div",2),s.Rb(6,"div",3),s.Rb(7,"div",4),s.Rb(8,"div",5),s.Rb(9,"h4",6),s.Hc(10," Claves Catastrales Pagadas por Canal de Pago "),s.Qb(),s.Qb(),s.Rb(11,"div",7),s.Rb(12,"app-ingresos-grafico5-bar-filters",8),s.cc("filtrosValidosEvent",(function(o){return a.getMontosPorCanalPago(o)})),s.Qb(),s.Rb(13,"div",2),s.Rb(14,"div",9),s.Mb(15,"app-ngx-horizontal-bar-chart",10),s.Qb(),s.Rb(16,"div",11),s.Rb(17,"p",12),s.Hc(18,"Cantidad de Pagos"),s.Qb(),s.Rb(19,"h1",13),s.Hc(20),s.Qb(),s.Rb(21,"p",14),s.Hc(22,"Total"),s.Qb(),s.Fc(23,P,9,7,"div",15),s.Qb(),s.Qb(),s.Qb(),s.Qb(),s.Qb(),s.Qb(),s.Qb()),2&o&&(s.yb(12),s.mc("catLocalidad",a.catalogos.LOCALIDAD)("catColonia",a.catalogos.COLONIA)("CatMedioFormaPago",a.catalogos.MEDIO_FORMA_PAGO),s.yb(3),s.mc("data",a.chartA)("yAxisLabel",a.labelXChartA)("xAxisLabel",a.labelYChartA),s.yb(5),s.Jc(" ",null==a.chartB?null:a.chartB.total," "),s.yb(3),s.mc("ngForOf",null==a.chartB?null:a.chartB.data))},directives:[I,Q.a,t.m],styles:[""]}),o})();const y=function(o){return{"is-invalid":o}};let M=(()=>{class o{constructor(o){this.formBuilder=o,this.catAnios=["2020","2019","2018","2017","2016","2015"],this.catMeses=[{clave:1,nombre:"Enero"},{clave:2,nombre:"Febrero"},{clave:3,nombre:"Marzo"},{clave:4,nombre:"Abril"},{clave:5,nombre:"Mayo"},{clave:6,nombre:"Junio"},{clave:7,nombre:"Julio"},{clave:8,nombre:"Agosto"},{clave:9,nombre:"Septiembre"},{clave:10,nombre:"Octubre"},{clave:11,nombre:"Noviembre"},{clave:12,nombre:"Diciembre"}],this.filtrosValidosEvent=new s.n}ngOnInit(){this.groupForm=this.formBuilder.group({anio:[{value:"2020",disabled:!1},[i.n.required]],mes:[{value:null,disabled:!1}],colonia:[{value:null,disabled:!1}],medioFormaPago:[{value:null,disabled:!1}]}),this.changeSelectFilter()}get fc(){return this.groupForm.controls}changeSelectFilter(o,a){o||"anio"!=a||this.fc.anio.setValue("2020"),this.groupForm.valid&&this.filtrosValidosEvent.emit(this.groupForm.value)}}return o.\u0275fac=function(a){return new(a||o)(s.Lb(i.c))},o.\u0275cmp=s.Fb({type:o,selectors:[["app-mapa-ingresos-colonia-bar-filters"]],inputs:{catLocalidad:"catLocalidad",catColonia:"catColonia",CatMedioFormaPago:"CatMedioFormaPago"},outputs:{filtrosValidosEvent:"filtrosValidosEvent"},decls:22,vars:8,consts:[[1,"row","mb-5","mt-1"],[1,"col-sm-12"],[1,"form-inline","no-gutters",3,"formGroup"],[1,"col-md-1"],[1,"text-danger"],[1,"col-md-2"],["notFoundText","Sin resultados","loadingText","Cargando...","formControlName","anio",3,"items","change"],["bindLabel","nombre","bindValue","clave","notFoundText","Sin resultados","loadingText","Cargando...","placeholder","Seleccione...","formControlName","mes",3,"items","ngClass","change"],["bindLabel","nombreItem","bindValue","claveSIM","notFoundText","Sin resultados","loadingText","Cargando...","placeholder","Seleccione...","formControlName","colonia",3,"items","change"],["bindLabel","nombreItem","bindValue","claveSIM","notFoundText","Sin resultados","loadingText","Cargando...","placeholder","Seleccione...","formControlName","medioFormaPago",3,"items","change"],[1,"col-md-12","my-1"]],template:function(o,a){1&o&&(s.Rb(0,"div",0),s.Rb(1,"div",1),s.Rb(2,"form",2),s.Rb(3,"label",3),s.Hc(4,"A\xf1o\xa0"),s.Rb(5,"span",4),s.Hc(6,"*"),s.Qb(),s.Qb(),s.Rb(7,"div",5),s.Rb(8,"ng-select",6),s.cc("change",(function(o){return a.changeSelectFilter(o,"anio")})),s.Qb(),s.Qb(),s.Rb(9,"label",3),s.Hc(10,"Mes "),s.Qb(),s.Rb(11,"div",5),s.Rb(12,"ng-select",7),s.cc("change",(function(o){return a.changeSelectFilter(o,"mes")})),s.Qb(),s.Qb(),s.Rb(13,"label",3),s.Hc(14,"Colonias"),s.Qb(),s.Rb(15,"div",5),s.Rb(16,"ng-select",8),s.cc("change",(function(o){return a.changeSelectFilter(o,"colonia")})),s.Qb(),s.Qb(),s.Rb(17,"label",3),s.Hc(18,"Medio Pago"),s.Qb(),s.Rb(19,"div",5),s.Rb(20,"ng-select",9),s.cc("change",(function(o){return a.changeSelectFilter(o,"medioFormaPago")})),s.Qb(),s.Qb(),s.Mb(21,"div",10),s.Qb(),s.Qb(),s.Qb()),2&o&&(s.yb(2),s.mc("formGroup",a.groupForm),s.yb(6),s.mc("items",a.catAnios),s.yb(4),s.mc("items",a.catMeses)("ngClass",s.qc(6,y,(null==a.fc.mesInicial?null:a.fc.mesInicial.errors)&&(null==a.fc.mesInicial?null:a.fc.mesInicial.dirty))),s.yb(4),s.mc("items",a.catColonia),s.yb(4),s.mc("items",a.CatMedioFormaPago))},directives:[i.p,i.j,i.e,r.a,i.i,i.d,t.l],styles:[""]}),o})();var S=e("z4d8");function L(o,a){if(1&o&&(s.Rb(0,"div",19),s.Rb(1,"h2",20),s.Hc(2),s.Qb(),s.Rb(3,"span",21),s.Hc(4),s.Qb(),s.Rb(5,"span",22),s.Hc(6),s.Qb(),s.Rb(7,"div",23),s.Mb(8,"div",24),s.Qb(),s.Qb()),2&o){const o=a.$implicit;s.yb(2),s.Ic(o.value),s.yb(2),s.Ic(o.name),s.yb(2),s.Ic(o.porcent),s.yb(2),s.Dc("width",o.porcent)("background-color",o.color)}}const T=["#7E72A8","#AE9AF5","#42D4E3","#55FADC","#42E398","#49FD76","#D1F58D","#A85177","#F582B3","#49BDFD"],O=[{path:"",data:{breadcrumbs:"Ingresos"},children:[{path:"montos-totales-ingresos",component:f,data:{breadcrumbs:"Montos totales de Ingresos"}},{path:"montos-totales-ingresos-por-accesorios",component:R,data:{breadcrumbs:"Montos totales de Ingresos por accesorios"}},{path:"comparativo-ingresos-anio",component:h,data:{breadcrumbs:"Comparativo de Ingresos Por Anio"}},{path:"claves-catastro-canal-pago",component:F,data:{breadcrumbs:"Claves Catastrales Pagadas por Canal de Pago"}},{path:"mapa-ingresos-colonia",component:(()=>{class o{constructor(o,a){this.apiRestIngresosService=o,this.apiRestSharedService=a,this.colors=T,this.labelXChartA="Colonias",this.labelYChartA="Monto Total Pagos",this.mapLabelTitle="Colonia:",this.mapLabel_1="Monto:  ",this.mapLabel_2="Predios:",this.catalogos={COLONIA:[],MEDIO_FORMA_PAGO:[]},n.each(this.catalogos,(o,a)=>{this.getCatalogo(a)})}ngOnInit(){}getCatalogo(o){this.apiRestSharedService.getCatalogo(o).subscribe(a=>{a&&(this.catalogos[o]=a.body)},o=>{})}getIngresosPorColonia(o){this.apiRestIngresosService.getIngresosPorColonia({anio:null==o?void 0:o.anio,mes:(null==o?void 0:o.mes)?null==o?void 0:o.mes:"",categoriaAdeudo:(null==o?void 0:o.medioFormaPago)?null==o?void 0:o.medioFormaPago:"",colonia:(null==o?void 0:o.colonia)?null==o?void 0:o.colonia:""}).subscribe(o=>{o&&(this.dataMap=this.generateDataMap(o.body),this.chartA=this.generateChart_a(null==o?void 0:o.body),this.chartB=this.generateChart_b(null==o?void 0:o.body))},o=>{})}generateDataMap(o){return n.map(o,o=>({title:o.colonia,label_1:"$"+o.montoTotalPagos.toString().replace(/\B(?=(\d{3})+(?!\d))/g,","),label_2:""+o.cantidadPredios.toString().replace(/\B(?=(\d{3})+(?!\d))/g,","),icon:this.getIconMarker(o.montoTotalPagos),lat:o.latitud,lng:o.longitud}))}getIconMarker(o){return{path:google.maps.SymbolPath.CIRCLE,strokeWeight:.5,strokeColor:"#fff",fillColor:this.getColor(o),fillOpacity:.75,scale:20}}getColor(o){const a=["#FA7025","#3670E3","#1BE617"];return o<1e7?a[0]:o<5e7?a[1]:a[2]}generateChart_a(o){const a=n.map(o,(o,a)=>({name:null==o?void 0:o.colonia,value:null==o?void 0:o.montoTotalPagos}));return console.log("::::: CHART_A: ",JSON.stringify(a)),a}generateChart_b(o){const a=o.reduce((o,a)=>o+a.cantidadPredios,0),e=n.map(o,(o,e)=>({name:null==o?void 0:o.colonia,value:""+(null==o?void 0:o.cantidadPredios.toString().replace(/\B(?=(\d{3})+(?!\d))/g,",")),porcent:this.generatePorcent(a,null==o?void 0:o.cantidadPredios),color:T[e]})),t={total:""+a.toString().replace(/\B(?=(\d{3})+(?!\d))/g,","),data:e};return console.log("::::: CHART_B: ",JSON.stringify(t)),t}generatePorcent(o,a){return o&&a?Math.round(100*a/o)+"%":"0%"}}return o.\u0275fac=function(a){return new(a||o)(s.Lb(u),s.Lb(p.a))},o.\u0275cmp=s.Fb({type:o,selectors:[["app-mapa-ingresos-colonia"]],decls:27,vars:11,consts:[[1,"container-fluid"],[1,"page-title"],[1,"row"],[1,"col","col-sm-12"],[1,"card"],[1,"card-heading","border","bottom"],[1,"card-title"],[1,"card-block","mb-5"],[3,"catColonia","CatMedioFormaPago","filtrosValidosEvent"],[1,"col-md-12"],[3,"data","mapLabelTitle","mapLabel_1","mapLabel_2"],[1,"row","mt-5"],[1,"col-md-8"],[3,"data","yAxisLabel","xAxisLabel"],[1,"col-md-4","border","left","border-hide-sm"],[1,"mrg-btm-5"],[1,"no-mrg-vertical","font-size-35"],[1,"text-semibold"],["class","mrg-top-10",4,"ngFor","ngForOf"],[1,"mrg-top-10"],[1,"no-mrg-btm"],[1,"inline-block","mrg-btm-10","font-size-13","text-semibold"],[1,"pull-right","pdd-right-10","font-size-13"],[1,"progress","progress-primary"],["role","progressbar","aria-valuenow","70","aria-valuemin","0","aria-valuemax","100",1,"progress-bar"]],template:function(o,a){1&o&&(s.Rb(0,"div",0),s.Rb(1,"div",1),s.Rb(2,"h4"),s.Hc(3," Ingresos "),s.Mb(4,"hr"),s.Qb(),s.Qb(),s.Rb(5,"div",2),s.Rb(6,"div",3),s.Rb(7,"div",4),s.Rb(8,"div",5),s.Rb(9,"h4",6),s.Hc(10,"Mapa de Ingresos por colonia"),s.Qb(),s.Qb(),s.Rb(11,"div",7),s.Rb(12,"app-mapa-ingresos-colonia-bar-filters",8),s.cc("filtrosValidosEvent",(function(o){return a.getIngresosPorColonia(o)})),s.Qb(),s.Rb(13,"div",2),s.Rb(14,"div",9),s.Mb(15,"app-agm-layer-symbol-path-circle",10),s.Qb(),s.Qb(),s.Rb(16,"div",11),s.Rb(17,"div",12),s.Mb(18,"app-ngx-horizontal-bar-chart",13),s.Qb(),s.Rb(19,"div",14),s.Rb(20,"p",15),s.Hc(21,"Cantidad de Predios"),s.Qb(),s.Rb(22,"h1",16),s.Hc(23),s.Qb(),s.Rb(24,"p",17),s.Hc(25,"Total"),s.Qb(),s.Fc(26,L,9,7,"div",18),s.Qb(),s.Qb(),s.Qb(),s.Qb(),s.Qb(),s.Qb(),s.Qb()),2&o&&(s.yb(12),s.mc("catColonia",a.catalogos.COLONIA)("CatMedioFormaPago",a.catalogos.MEDIO_FORMA_PAGO),s.yb(3),s.mc("data",a.dataMap)("mapLabelTitle",a.mapLabelTitle)("mapLabel_1",a.mapLabel_1)("mapLabel_2",a.mapLabel_2),s.yb(3),s.mc("data",a.chartA)("yAxisLabel",a.labelXChartA)("xAxisLabel",a.labelYChartA),s.yb(5),s.Jc(" ",null==a.chartB?null:a.chartB.total," "),s.yb(3),s.mc("ngForOf",null==a.chartB?null:a.chartB.data))},directives:[M,S.a,Q.a,t.m],styles:[""]}),o})(),data:{breadcrumbs:"Mapa de Ingresos por Colonia"}}]}];let D=(()=>{class o{}return o.\u0275mod=s.Jb({type:o}),o.\u0275inj=s.Ib({factory:function(a){return new(a||o)},imports:[[l.i.forChild(O)],l.i]}),o})();var N=e("LTD9"),E=e("PCNd");let _=(()=>{class o{}return o.\u0275mod=s.Jb({type:o}),o.\u0275inj=s.Ib({factory:function(a){return new(a||o)},imports:[[t.c,i.f,i.m,r.b,D,N.a,E.a]]}),o})()}}]);