(window.webpackJsonp=window.webpackJsonp||[]).push([[5],{"oeC/":function(t,e,o){"use strict";o.r(e),o.d(e,"CobranzaModule",(function(){return Et}));var a=o("ofXK"),i=o("3Pt+"),n=o("tyNb"),r=o("LvDl"),c=o("fXoL"),l=o("/TkA"),s=o("LRne"),d=o("3E0/"),b=o("AytR"),u=o("tk/3");const m="/API-COBRANZA-DE/v1/api/cartera",g="/API-COBRANZA-DE/v1/api/notificacion";let p=(()=>{class t{constructor(t){this.http=t}getMontosCategoriaMes(t){if("MOCK"===b.a.name){let t={body:[{categoriaAdeudo:"CAT1",mes:7,totalMontoVencido:1e3,totalCantidadAdeudos:30},{categoriaAdeudo:"CAT1",mes:8,totalMontoVencido:3040,totalCantidadAdeudos:170},{categoriaAdeudo:"CAT2",mes:8,totalMontoVencido:1400,totalCantidadAdeudos:36}]};return Object(s.a)(t).pipe(Object(d.a)(1e3))}return this.http.post(`${b.a.urlWS}${m}/montoCategoriaMes`,t||{})}getMontoCategoriaAnio(t){if("MOCK"===b.a.name){let t={body:[{categoriaAdeudo:"CAT1",anio:2020,totalMontoVencido:4040,totalCantidadAdeudos:200},{categoriaAdeudo:"CAT2",anio:2020,totalMontoVencido:1400,totalCantidadAdeudos:36}]};return Object(s.a)(t).pipe(Object(d.a)(1e3))}return this.http.request("POST",`${b.a.urlWS}${m}/montoCategoriaAnio`,{body:JSON.stringify(t),params:{}})}getCarteraVencidaPorColonia(t){if("MOCK"===b.a.name){let t={body:[{colonia:"ALAMEDA",totalMontoVencido:13434,latitud:"20.680812",longitud:"-100.324499",totalCantidadAdeudos:45727},{colonia:"BARRIO DE LA TRINIDAD",totalMontoVencido:896,latitud:"20.632617",longitud:"-100.286033",totalCantidadAdeudos:0},{colonia:"CASA BLANCA",totalMontoVencido:10560,latitud:null,longitud:null,totalCantidadAdeudos:0},{colonia:"CRUZ ALTA",totalMontoVencido:36039,latitud:null,longitud:null,totalCantidadAdeudos:0},{colonia:"EL DURAZNO",totalMontoVencido:22477,latitud:"20.529866",longitud:"-100.314309",totalCantidadAdeudos:0}]};return Object(s.a)(t).pipe(Object(d.a)(1e3))}return this.http.post(`${b.a.urlWS}${m}/mapaCalorColonia`,t||{})}getNotificacionColonias(t){if("MOCK"===b.a.name){let t={body:[{colonia:"LOS ENCINOS",totalMontoAdeudoNotificado:4422,cantidadNotificaciones:159},{colonia:"REAL SOLARE 3",totalMontoAdeudoNotificado:1200,cantidadNotificaciones:60}]};return Object(s.a)(t).pipe(Object(d.a)(1e3))}return this.http.post(`${b.a.urlWS}${g}/colonia`,t||{})}getNotificacionProductividad(t){if("MOCK"===b.a.name){let t={body:[{notificador:"Angel",totalMontoAdeudoNotificado:2600,cantidadNotificaciones:134},{notificador:"Jose",totalMontoAdeudoNotificado:3022,cantidadNotificaciones:85}]};return Object(s.a)(t).pipe(Object(d.a)(1e3))}return this.http.post(`${b.a.urlWS}${g}/productividad`,t||{})}getNotificacionMediosEntrega(t){if("MOCK"===b.a.name){let t={body:[{medioNotificacion:"Carta",totalMontoAdeudoNotificado:5622,cantidadNotificaciones:219}]};return Object(s.a)(t).pipe(Object(d.a)(1e3))}return this.http.post(`${b.a.urlWS}${g}/medioEntregaNotificacion`,t||{})}getPagosAdeudosCategoria(t){if("MOCK"===b.a.name){let t={body:[{mes:"1",totalMontoAdeudoPagado:1500,cantidadAdeudos:"15000"},{mes:"2",totalMontoAdeudoPagado:160,cantidadAdeudos:"150"},{mes:"7",totalMontoAdeudoPagado:9767,cantidadAdeudos:"180"}]};return Object(s.a)(t).pipe(Object(d.a)(1e3))}return this.http.post(`${b.a.urlWS}${g}/categoriaAdeudo`,t||{})}obtenerPagosMedioPago(t){if("MOCK"===b.a.name){let t={body:[{montopagado:11267,medioPago:"APP",cantidadCartas:58},{montopagado:160,medioPago:"Portal web",cantidadCartas:33}]};return Object(s.a)(t).pipe(Object(d.a)(1e3))}return this.http.post(`${b.a.urlWS}${g}/obtenerPagosMedioPago`,t||{})}obtenerAntiguedadPagos(t){if("MOCK"===b.a.name){let t={body:[{anio:"2020",totalMontoAdeudoPagado:1660,cantidadAdeudos:"15150"}]};return Object(s.a)(t).pipe(Object(d.a)(1e3))}return this.http.post(`${b.a.urlWS}${g}/antiguedadPagos`,t||{})}}return t.\u0275fac=function(e){return new(e||t)(c.Zb(u.b))},t.\u0275prov=c.Hb({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();var v=o("ZOsW");function h(t,e){1&t&&(c.Rb(0,"div"),c.Hc(1," Este campo es requerido "),c.Qb())}function f(t,e){if(1&t&&(c.Rb(0,"div",13),c.Fc(1,h,2,0,"div",14),c.Qb()),2&t){const t=c.gc();c.yb(1),c.mc("ngIf",null==t.fc.mesInicial||null==t.fc.mesInicial.errors?null:t.fc.mesInicial.errors.required)}}function A(t,e){1&t&&(c.Rb(0,"div"),c.Hc(1," Este campo es requerido "),c.Qb())}function C(t,e){if(1&t&&(c.Rb(0,"div",13),c.Fc(1,A,2,0,"div",14),c.Qb()),2&t){const t=c.gc();c.yb(1),c.mc("ngIf",null==t.fc.mesFinal||null==t.fc.mesFinal.errors?null:t.fc.mesFinal.errors.required)}}function R(t,e){if(1&t&&(c.Rb(0,"div",15),c.Hc(1),c.Qb()),2&t){const t=e.item;c.nc("title",null==t?null:t.nombreItem),c.yb(1),c.Jc(" ",null==t?null:t.nombreItem," ")}}function F(t,e){if(1&t&&(c.Rb(0,"div",15),c.Hc(1),c.Qb()),2&t){const t=e.item;c.nc("title",null==t?null:t.nombreItem),c.yb(1),c.Jc(" ",null==t?null:t.nombreItem," ")}}const y=function(t){return{"is-invalid":t}},Q=t=>{const e=t.get("mesInicial"),o=t.get("mesFinal");let a=!0;return e.value&&o.value?e.value>o.value?(a=!1,e.setErrors({periodoInvalido:!0}),o.setErrors({periodoInvalido:!0})):(a=!0,e.setErrors(null),o.setErrors(null)):e.value||o.value?(a=!1,e.setValidators(i.n.required),o.setValidators(i.n.required)):e.value||o.value||(a=!0,e.setErrors(null),o.setErrors(null),e.clearValidators(),o.clearValidators()),a?null:{periodoInvalido:!0}};let I=(()=>{class t{constructor(t,e){this.formBuilder=t,this.apiRestSharedService=e,this.catAnios=[],this.catMeses=[{clave:1,nombre:"Enero"},{clave:2,nombre:"Febrero"},{clave:3,nombre:"Marzo"},{clave:4,nombre:"Abril"},{clave:5,nombre:"Mayo"},{clave:6,nombre:"Junio"},{clave:7,nombre:"Julio"},{clave:8,nombre:"Agosto"},{clave:9,nombre:"Septiembre"},{clave:10,nombre:"Octubre"},{clave:11,nombre:"Noviembre"},{clave:12,nombre:"Diciembre"}],this.filtrosValidosEvent=new c.n}ngOnInit(){this.groupForm=this.formBuilder.group({anio:[{value:"2020",disabled:!1},[i.n.required]],mesInicial:[{value:null,disabled:!1}],mesFinal:[{value:null,disabled:!1}],colonia:[{value:null,disabled:!1}],categoriaAdeudo:[{value:null,disabled:!1}]},{validators:Q}),this.changeSelectFilter(),this.getCatAnios()}get fc(){return this.groupForm.controls}changeSelectFilter(t,e){t||"anio"!=e||this.fc.anio.setValue("2020"),this.groupForm.valid&&this.filtrosValidosEvent.emit(this.groupForm.value)}getCatAnios(){this.catAnios=this.apiRestSharedService.getCatalogoAnios()}}return t.\u0275fac=function(e){return new(e||t)(c.Lb(i.c),c.Lb(l.a))},t.\u0275cmp=c.Fb({type:t,selectors:[["app-cv-bar-filters-map-adeudos-colonias"]],inputs:{catColonias:"catColonias",catTiposAdeudos:"catTiposAdeudos"},outputs:{filtrosValidosEvent:"filtrosValidosEvent"},decls:21,vars:14,consts:[[1,"row","mb-5","mt-1"],[1,"col-sm-12"],[1,"form-inline","no-gutters",3,"formGroup"],[1,"col-md-3"],["notFoundText","Sin resultados","loadingText","Cargando...","formControlName","anio",3,"items","change"],[1,"col-md-1"],["bindLabel","nombre","bindValue","clave","notFoundText","Sin resultados","loadingText","Cargando...","placeholder","Mes Del","formControlName","mesInicial",3,"items","ngClass","change"],["class","invalid-feedback-ng-select",4,"ngIf"],["bindLabel","nombre","bindValue","clave","notFoundText","Sin resultados","loadingText","Cargando...","placeholder","Mes Al","formControlName","mesFinal",3,"items","ngClass","change"],[1,"col-md-12","my-1"],["bindLabel","nombreItem","bindValue","claveSIM","notFoundText","Sin resultados","loadingText","Cargando...","placeholder","Colonias","formControlName","colonia",3,"items","change"],["ng-option-tmp",""],["bindLabel","nombreItem","bindValue","claveSIM","notFoundText","Sin resultados","loadingText","Cargando...","placeholder","Tipo Adeudo","formControlName","categoriaAdeudo",3,"items","change"],[1,"invalid-feedback-ng-select"],[4,"ngIf"],[3,"title"]],template:function(t,e){1&t&&(c.Rb(0,"div",0),c.Rb(1,"div",1),c.Rb(2,"form",2),c.Rb(3,"div",3),c.Rb(4,"ng-select",4),c.cc("change",(function(t){return e.changeSelectFilter(t,"anio")})),c.Qb(),c.Qb(),c.Mb(5,"div",5),c.Rb(6,"div",3),c.Rb(7,"ng-select",6),c.cc("change",(function(t){return e.changeSelectFilter(t,"mInit")})),c.Qb(),c.Fc(8,f,2,1,"div",7),c.Qb(),c.Mb(9,"div",5),c.Rb(10,"div",3),c.Rb(11,"ng-select",8),c.cc("change",(function(t){return e.changeSelectFilter(t,"mesFinal")})),c.Qb(),c.Fc(12,C,2,1,"div",7),c.Qb(),c.Mb(13,"div",9),c.Rb(14,"div",3),c.Rb(15,"ng-select",10),c.cc("change",(function(t){return e.changeSelectFilter(t,"colonia")})),c.Fc(16,R,2,2,"ng-template",11),c.Qb(),c.Qb(),c.Mb(17,"div",5),c.Rb(18,"div",3),c.Rb(19,"ng-select",12),c.cc("change",(function(t){return e.changeSelectFilter(t,"catAdeudo")})),c.Fc(20,F,2,2,"ng-template",11),c.Qb(),c.Qb(),c.Qb(),c.Qb(),c.Qb()),2&t&&(c.yb(2),c.mc("formGroup",e.groupForm),c.yb(2),c.mc("items",e.catAnios),c.yb(3),c.mc("items",e.catMeses)("ngClass",c.qc(10,y,(null==e.fc.mesInicial?null:e.fc.mesInicial.errors)&&(null==e.fc.mesInicial?null:e.fc.mesInicial.dirty))),c.yb(1),c.mc("ngIf",(null==e.fc.mesInicial?null:e.fc.mesInicial.errors)&&(null==e.fc.mesInicial?null:e.fc.mesInicial.dirty)),c.yb(3),c.mc("items",e.catMeses)("ngClass",c.qc(12,y,(null==e.fc.mesFinal?null:e.fc.mesFinal.errors)&&(null==e.fc.mesFinal?null:e.fc.mesFinal.dirty))),c.yb(1),c.mc("ngIf",(null==e.fc.mesFinal?null:e.fc.mesFinal.errors)&&(null==e.fc.mesFinal?null:e.fc.mesFinal.dirty)),c.yb(3),c.mc("items",e.catColonias),c.yb(4),c.mc("items",e.catTiposAdeudos))},directives:[i.p,i.j,i.e,v.a,i.i,i.d,a.k,a.m,v.c],styles:[""]}),t})();var S=o("z4d8"),M=o("rFjA");function T(t,e){if(1&t&&(c.Rb(0,"div",16),c.Rb(1,"h2",17),c.Hc(2),c.Qb(),c.Rb(3,"span",18),c.Hc(4),c.Qb(),c.Rb(5,"span",19),c.Hc(6),c.Qb(),c.Rb(7,"div",20),c.Mb(8,"div",21),c.Qb(),c.Qb()),2&t){const t=e.$implicit;c.yb(2),c.Ic(t.value),c.yb(2),c.Ic(t.name),c.yb(2),c.Ic(t.porcent),c.yb(2),c.Dc("width",t.porcent)("background-color",t.color)}}const N=["#7E72A8","#AE9AF5","#42D4E3","#55FADC","#42E398","#49FD76","#D1F58D","#A85177","#F582B3","#49BDFD"];let E=(()=>{class t{constructor(t){this.apiRestCobranzaService=t,this.colors=N,this.labelXChartA="Colonias",this.labelYChartA="Monto Total Adeudo",this.mapLabelTitle="Colonia:",this.mapLabel_1="Monto:  ",this.mapLabel_2="Adeudos:"}ngOnInit(){}getCarteraVencidaPorColonia(t){this.apiRestCobranzaService.getCarteraVencidaPorColonia({anio:null==t?void 0:t.anio,mesInicio:(null==t?void 0:t.mesInicial)?null==t?void 0:t.mesInicial:"",mesFin:(null==t?void 0:t.mesFinal)?null==t?void 0:t.mesFinal:"",categoriaAdeudo:(null==t?void 0:t.categoriaAdeudo)?null==t?void 0:t.categoriaAdeudo:"",colonia:(null==t?void 0:t.colonia)?null==t?void 0:t.colonia:""}).subscribe(t=>{t&&(this.dataMap=this.generateDataMap(t.body),this.chartA=this.generateChart_a(null==t?void 0:t.body),this.chartB=this.generateChart_b(null==t?void 0:t.body))},t=>{})}generateDataMap(t){return r.map(t,t=>({title:t.colonia,label_1:"$"+t.totalMontoVencido.toString().replace(/\B(?=(\d{3})+(?!\d))/g,","),label_2:""+t.totalCantidadAdeudos.toString().replace(/\B(?=(\d{3})+(?!\d))/g,","),icon:this.getIconMarker(t.totalMontoVencido),lat:t.latitud,lng:t.longitud}))}getIconMarker(t){return{path:google.maps.SymbolPath.CIRCLE,strokeWeight:.5,strokeColor:"#fff",fillColor:this.getColor(t),fillOpacity:.75,scale:20}}getColor(t){const e=["#08FA1F","#F0E712","#D90218"];return t<5e6?e[0]:t<1e7?e[1]:e[2]}generateChart_a(t){const e=r.map(t,(t,e)=>({name:null==t?void 0:t.colonia,value:null==t?void 0:t.totalMontoVencido}));return console.log("::::: CHART_A: ",JSON.stringify(e)),e}generateChart_b(t){const e=t.reduce((t,e)=>t+e.totalCantidadAdeudos,0),o=r.map(t,(t,o)=>({name:null==t?void 0:t.colonia,value:""+(null==t?void 0:t.totalCantidadAdeudos.toString().replace(/\B(?=(\d{3})+(?!\d))/g,",")),porcent:this.generatePorcent(e,null==t?void 0:t.totalCantidadAdeudos),color:N[o]})),a={total:""+e.toString().replace(/\B(?=(\d{3})+(?!\d))/g,","),data:o};return console.log("::::: CHART_B: ",JSON.stringify(a)),a}generatePorcent(t,e){return t&&e?Math.round(100*e/t)+"%":"0%"}}return t.\u0275fac=function(e){return new(e||t)(c.Lb(p))},t.\u0275cmp=c.Fb({type:t,selectors:[["app-cv-wrapper-charts-adeudos-colonias-mapa"]],inputs:{catColonias:"catColonias",catTiposAdeudos:"catTiposAdeudos"},decls:20,vars:11,consts:[[1,"card"],[1,"card-heading","border","bottom"],[1,"card-title"],[1,"card-block","mb-5"],[3,"catColonias","catTiposAdeudos","filtrosValidosEvent"],[1,"row"],[1,"col-md-12"],[3,"data","mapLabelTitle","mapLabel_1","mapLabel_2"],[1,"row","mt-5"],[1,"col-md-8"],[3,"data","yAxisLabel","xAxisLabel"],[1,"col-md-4","border","left","border-hide-sm"],[1,"mrg-btm-5"],[1,"no-mrg-vertical","font-size-35"],[1,"text-semibold"],["class","mrg-top-10",4,"ngFor","ngForOf"],[1,"mrg-top-10"],[1,"no-mrg-btm"],[1,"inline-block","mrg-btm-10","font-size-13","text-semibold"],[1,"pull-right","pdd-right-10","font-size-13"],[1,"progress","progress-primary"],["role","progressbar","aria-valuenow","70","aria-valuemin","0","aria-valuemax","100",1,"progress-bar"]],template:function(t,e){1&t&&(c.Rb(0,"div",0),c.Rb(1,"div",1),c.Rb(2,"h4",2),c.Hc(3,"Mapa de Adeudos por colonia"),c.Qb(),c.Qb(),c.Rb(4,"div",3),c.Rb(5,"app-cv-bar-filters-map-adeudos-colonias",4),c.cc("filtrosValidosEvent",(function(t){return e.getCarteraVencidaPorColonia(t)})),c.Qb(),c.Rb(6,"div",5),c.Rb(7,"div",6),c.Mb(8,"app-agm-layer-symbol-path-circle",7),c.Qb(),c.Qb(),c.Rb(9,"div",8),c.Rb(10,"div",9),c.Mb(11,"app-ngx-horizontal-bar-chart",10),c.Qb(),c.Rb(12,"div",11),c.Rb(13,"p",12),c.Hc(14,"Cantidad de Adeudos"),c.Qb(),c.Rb(15,"h1",13),c.Hc(16),c.Qb(),c.Rb(17,"p",14),c.Hc(18,"Total"),c.Qb(),c.Fc(19,T,9,7,"div",15),c.Qb(),c.Qb(),c.Qb(),c.Qb()),2&t&&(c.yb(5),c.mc("catColonias",e.catColonias)("catTiposAdeudos",e.catTiposAdeudos),c.yb(3),c.mc("data",e.dataMap)("mapLabelTitle",e.mapLabelTitle)("mapLabel_1",e.mapLabel_1)("mapLabel_2",e.mapLabel_2),c.yb(3),c.mc("data",e.chartA)("yAxisLabel",e.labelXChartA)("xAxisLabel",e.labelYChartA),c.yb(5),c.Jc(" ",null==e.chartB?null:e.chartB.total," "),c.yb(3),c.mc("ngForOf",null==e.chartB?null:e.chartB.data))},directives:[I,S.a,M.a,a.l],styles:[""]}),t})();function O(t,e){if(1&t&&(c.Rb(0,"div",8),c.Hc(1),c.Qb()),2&t){const t=e.item;c.nc("title",null==t?null:t.nombreItem),c.yb(1),c.Jc(" ",null==t?null:t.nombreItem," ")}}let D=(()=>{class t{constructor(t){this.formBuilder=t,this.filtrosValidosEvent=new c.n}ngOnInit(){this.groupForm=this.formBuilder.group({anio:[{value:"2020",disabled:!1},[i.n.required]],categoriaAdeudo:[{value:null,disabled:!1}]}),this.changeSelectFilter()}get fc(){return this.groupForm.controls}changeSelectFilter(t,e){t||"anio"!=e||this.fc.anio.setValue("2020"),this.groupForm.valid&&this.filtrosValidosEvent.emit(this.groupForm.value)}}return t.\u0275fac=function(e){return new(e||t)(c.Lb(i.c))},t.\u0275cmp=c.Fb({type:t,selectors:[["app-cv-bar-filters-anio-cat-adeudo"]],inputs:{catTiposAdeudos:"catTiposAdeudos",catAnios:"catAnios"},outputs:{filtrosValidosEvent:"filtrosValidosEvent"},decls:9,vars:3,consts:[[1,"row","mb-5","mt-1"],[1,"col-sm-12"],[1,"form-inline","no-gutters",3,"formGroup"],[1,"col-md-5"],["notFoundText","Sin resultados","loadingText","Cargando...","formControlName","anio","placeholder","A\xf1o",3,"items","change"],[1,"col-md-1"],["bindLabel","nombreItem","bindValue","claveSIM","notFoundText","Sin resultados","loadingText","Cargando...","placeholder","Tipo Adeudo","formControlName","categoriaAdeudo",3,"items","change"],["ng-option-tmp",""],[3,"title"]],template:function(t,e){1&t&&(c.Rb(0,"div",0),c.Rb(1,"div",1),c.Rb(2,"form",2),c.Rb(3,"div",3),c.Rb(4,"ng-select",4),c.cc("change",(function(t){return e.changeSelectFilter(t,"anio")})),c.Qb(),c.Qb(),c.Mb(5,"div",5),c.Rb(6,"div",3),c.Rb(7,"ng-select",6),c.cc("change",(function(t){return e.changeSelectFilter(t,"catAdeudo")})),c.Fc(8,O,2,2,"ng-template",7),c.Qb(),c.Qb(),c.Qb(),c.Qb(),c.Qb()),2&t&&(c.yb(2),c.mc("formGroup",e.groupForm),c.yb(2),c.mc("items",e.catAnios),c.yb(3),c.mc("items",e.catTiposAdeudos))},directives:[i.p,i.j,i.e,v.a,i.i,i.d,v.c],styles:[""]}),t})();var x=o("Fls8");const B=["#7E72A8","#AE9AF5","#D1F58D","#A85177","#F582B3","#49BDFD","#42D4E3","#55FADC","#42E398","#49FD76"],L={1:"Enero",2:"Febrero",3:"Marzo",4:"Abril",5:"Mayo",6:"Junio",7:"Julio",8:"Agosto",9:"Septiembre",10:"Octubre",11:"Noviembre",12:"Diciembre"};let w=(()=>{class t{constructor(t,e){this.apiRestCobranzaService=t,this.apiRestSharedService=e,this.catAnios=[],this.colors=B,this.currencyTickFormatting=t=>{if(t)return"$"+t.toString().replace(/\B(?=(\d{3})+(?!\d))/g,",")}}ngOnInit(){this.getCatAnios()}getMontosCategoriaMes(t){this.apiRestCobranzaService.getMontosCategoriaMes({anio:null==t?void 0:t.anio,catAdeudo:(null==t?void 0:t.categoriaAdeudo)?null==t?void 0:t.categoriaAdeudo:""}).subscribe(e=>{e&&(this.chartA=this.generateChartA(null==e?void 0:e.body,null==t?void 0:t.anio))},t=>{})}generateChartA(t,e){const o=r.map(L,(o,a)=>({name:o,series:r.map(r.filter(t,t=>t.mes==a),t=>({name:null==t?void 0:t.categoriaAdeudo,value:null==t?void 0:t.totalMontoVencido,metadato:`${o} ${e}: \n              $${null==t?void 0:t.totalMontoVencido.toString().replace(/\B(?=(\d{3})+(?!\d))/g,",")} |  \n                ${null==t?void 0:t.totalCantidadAdeudos.toString().replace(/\B(?=(\d{3})+(?!\d))/g,",")} Adeudos`}))}));return console.log("::::: CHART_1: ",JSON.stringify(o)),o}getCatAnios(){this.catAnios=this.apiRestSharedService.getCatalogoAnios()}}return t.\u0275fac=function(e){return new(e||t)(c.Lb(p),c.Lb(l.a))},t.\u0275cmp=c.Fb({type:t,selectors:[["app-cv-wrapper-charts-adeudos-anual"]],inputs:{catTiposAdeudos:"catTiposAdeudos"},decls:8,vars:5,consts:[[1,"card"],[1,"card-heading","border","bottom"],[1,"card-title"],[1,"card-block","mb-5"],[1,"col-sm-12_","mb-5","mt-1"],[3,"catTiposAdeudos","catAnios","filtrosValidosEvent"],[3,"data","colors","yAxisTickFormatting"]],template:function(t,e){1&t&&(c.Rb(0,"div",0),c.Rb(1,"div",1),c.Rb(2,"h4",2),c.Hc(3,"Montos Anuales de Cartera Vencida por Categor\xeda"),c.Qb(),c.Qb(),c.Rb(4,"div",3),c.Rb(5,"div",4),c.Rb(6,"app-cv-bar-filters-anio-cat-adeudo",5),c.cc("filtrosValidosEvent",(function(t){return e.getMontosCategoriaMes(t)})),c.Qb(),c.Qb(),c.Mb(7,"app-ngx-grouped-vertical-bar-chart",6),c.Qb(),c.Qb()),2&t&&(c.yb(6),c.mc("catTiposAdeudos",e.catTiposAdeudos)("catAnios",e.catAnios),c.yb(1),c.mc("data",e.chartA)("colors",e.colors)("yAxisTickFormatting",e.currencyTickFormatting))},directives:[D,x.a],styles:[""]}),t})();var V=o("jnTO");function H(t,e){if(1&t&&(c.Rb(0,"div",14),c.Rb(1,"h2",15),c.Hc(2),c.Qb(),c.Rb(3,"span",16),c.Hc(4),c.Qb(),c.Rb(5,"span",17),c.Hc(6),c.Qb(),c.Rb(7,"div",18),c.Mb(8,"div",19),c.Qb(),c.Qb()),2&t){const t=e.$implicit;c.yb(2),c.Ic(t.value),c.yb(2),c.Ic(t.name),c.yb(2),c.Ic(t.porcent),c.yb(2),c.Dc("width",t.porcent)("background-color",t.color)}}const _=["#7E72A8","#AE9AF5","#D1F58D","#A85177","#F582B3","#49BDFD","#42D4E3","#55FADC","#42E398","#49FD76"];let P=(()=>{class t{constructor(t,e){this.apiRestCobranzaService=t,this.apiRestSharedService=e,this.catAnios=["2020","2019"],this.colors=_}ngOnInit(){this.getCatAnios()}getMontosCategoriaAnio(t){this.apiRestCobranzaService.getMontoCategoriaAnio({anio:null==t?void 0:t.anio,catAdeudo:(null==t?void 0:t.categoriaAdeudo)?null==t?void 0:t.categoriaAdeudo:""}).subscribe(t=>{t&&(this.chartA=this.generateChart_A(null==t?void 0:t.body),this.chartB=this.generateChart_B(null==t?void 0:t.body))},t=>{})}generateChart_A(t){const e=r.map(t,(t,e)=>({name:null==t?void 0:t.categoriaAdeudo,value:null==t?void 0:t.totalMontoVencido}));return console.log("::::: CHART_2A: ",JSON.stringify(e)),e}generateChart_B(t){const e=t.reduce((t,e)=>t+e.totalCantidadAdeudos,0),o=r.map(t,(t,o)=>({name:null==t?void 0:t.categoriaAdeudo,value:""+(null==t?void 0:t.totalCantidadAdeudos.toString().replace(/\B(?=(\d{3})+(?!\d))/g,",")),porcent:this.generatePorcent(e,null==t?void 0:t.totalCantidadAdeudos),color:this.colors[o]})),a={total:""+e.toString().replace(/\B(?=(\d{3})+(?!\d))/g,","),data:o};return console.log("::::: CHART_2B: ",JSON.stringify(a)),a}generatePorcent(t,e){return t&&e?Math.round(100*e/t)+"%":"0%"}getCatAnios(){this.catAnios=this.apiRestSharedService.getCatalogoAnios()}}return t.\u0275fac=function(e){return new(e||t)(c.Lb(p),c.Lb(l.a))},t.\u0275cmp=c.Fb({type:t,selectors:[["app-cv-wrapper-charts-adeudos-antiguedad"]],inputs:{catTiposAdeudos:"catTiposAdeudos"},decls:18,vars:5,consts:[[1,"card"],[1,"card-heading","border","bottom"],[1,"card-title"],[1,"card-block","mb-5"],[1,"col-sm-12_","mb-5"],[3,"catTiposAdeudos","catAnios","filtrosValidosEvent"],[1,"row"],[1,"col-md-8"],[3,"data"],[1,"col-md-4","border","left","border-hide-sm"],[1,"mrg-btm-5"],[1,"no-mrg-vertical","font-size-35"],[1,"text-semibold"],["class","mrg-top-10",4,"ngFor","ngForOf"],[1,"mrg-top-10"],[1,"no-mrg-btm"],[1,"inline-block","mrg-btm-10","font-size-13","text-semibold"],[1,"pull-right","pdd-right-10","font-size-13"],[1,"progress","progress-primary"],["role","progressbar","aria-valuenow","70","aria-valuemin","0","aria-valuemax","100",1,"progress-bar"]],template:function(t,e){1&t&&(c.Rb(0,"div",0),c.Rb(1,"div",1),c.Rb(2,"h4",2),c.Hc(3,"Antig\xfcedad de Adeudos por A\xf1o"),c.Qb(),c.Qb(),c.Rb(4,"div",3),c.Rb(5,"div",4),c.Rb(6,"app-cv-bar-filters-anio-cat-adeudo",5),c.cc("filtrosValidosEvent",(function(t){return e.getMontosCategoriaAnio(t)})),c.Qb(),c.Qb(),c.Rb(7,"div",6),c.Rb(8,"div",7),c.Mb(9,"app-ngx-advanced-pie-chart",8),c.Qb(),c.Rb(10,"div",9),c.Rb(11,"p",10),c.Hc(12,"Cantidad de Adeudos"),c.Qb(),c.Rb(13,"h1",11),c.Hc(14),c.Qb(),c.Rb(15,"p",12),c.Hc(16,"Total"),c.Qb(),c.Fc(17,H,9,7,"div",13),c.Qb(),c.Qb(),c.Qb(),c.Qb()),2&t&&(c.yb(6),c.mc("catTiposAdeudos",e.catTiposAdeudos)("catAnios",e.catAnios),c.yb(3),c.mc("data",e.chartA),c.yb(5),c.Jc(" ",null==e.chartB?null:e.chartB.total," "),c.yb(3),c.mc("ngForOf",null==e.chartB?null:e.chartB.data))},directives:[D,V.a,a.l],styles:[""]}),t})(),z=(()=>{class t{constructor(t){this.apiRestSharedService=t,this.catalogos={COLONIA:[],CAT_ADEUDO:[]},r.each(this.catalogos,(t,e)=>{this.getCatalogo(e)})}ngOnInit(){}getCatalogo(t){this.apiRestSharedService.getCatalogo(t).subscribe(e=>{e&&(this.catalogos[t]=e.body)},t=>{})}}return t.\u0275fac=function(e){return new(e||t)(c.Lb(l.a))},t.\u0275cmp=c.Fb({type:t,selectors:[["app-cartera-vencida"]],decls:14,vars:4,consts:[[1,"container-fluid"],[1,"page-title"],[1,"row"],[1,"col","col-sm-12"],[3,"catColonias","catTiposAdeudos"],[3,"catTiposAdeudos"]],template:function(t,e){1&t&&(c.Rb(0,"div",0),c.Rb(1,"div",1),c.Rb(2,"h4"),c.Hc(3," Cartera vencida "),c.Mb(4,"hr"),c.Qb(),c.Qb(),c.Rb(5,"div",2),c.Rb(6,"div",3),c.Mb(7,"app-cv-wrapper-charts-adeudos-colonias-mapa",4),c.Qb(),c.Qb(),c.Rb(8,"div",2),c.Rb(9,"div",3),c.Mb(10,"app-cv-wrapper-charts-adeudos-anual",5),c.Qb(),c.Qb(),c.Rb(11,"div",2),c.Rb(12,"div",3),c.Mb(13,"app-cv-wrapper-charts-adeudos-antiguedad",5),c.Qb(),c.Qb(),c.Qb()),2&t&&(c.yb(7),c.mc("catColonias",e.catalogos.COLONIA)("catTiposAdeudos",e.catalogos.CAT_ADEUDO),c.yb(3),c.mc("catTiposAdeudos",e.catalogos.CAT_ADEUDO),c.yb(3),c.mc("catTiposAdeudos",e.catalogos.CAT_ADEUDO))},directives:[E,w,P],encapsulation:2}),t})(),k=(()=>{class t{constructor(){}ngOnInit(){}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=c.Fb({type:t,selectors:[["app-cobranza"]],decls:4,vars:0,consts:[[1,"container-fluid"],[1,"row"],[1,"col","_center-items"],[1,"_en-construccion-bc"]],template:function(t,e){1&t&&(c.Rb(0,"div",0),c.Rb(1,"div",1),c.Rb(2,"div",2),c.Mb(3,"div",3),c.Qb(),c.Qb(),c.Qb())},encapsulation:2}),t})(),J=(()=>{class t{constructor(){}ngOnInit(){}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=c.Fb({type:t,selectors:[["app-ingresos"]],decls:4,vars:0,consts:[[1,"container-fluid"],[1,"row"],[1,"col","_center-items"],[1,"_en-construccion-bc"]],template:function(t,e){1&t&&(c.Rb(0,"div",0),c.Rb(1,"div",1),c.Rb(2,"div",2),c.Mb(3,"div",3),c.Qb(),c.Qb(),c.Qb())},encapsulation:2}),t})(),$=(()=>{class t{constructor(){}ngOnInit(){}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=c.Fb({type:t,selectors:[["app-adeudos"]],decls:4,vars:0,consts:[[1,"container-fluid"],[1,"row"],[1,"col","_center-items"],[1,"_en-construccion-bc"]],template:function(t,e){1&t&&(c.Rb(0,"div",0),c.Rb(1,"div",1),c.Rb(2,"div",2),c.Mb(3,"div",3),c.Qb(),c.Qb(),c.Qb())},encapsulation:2}),t})();function j(t,e){1&t&&(c.Rb(0,"div"),c.Hc(1," Este campo es requerido "),c.Qb())}function q(t,e){if(1&t&&(c.Rb(0,"div",14),c.Fc(1,j,2,0,"div",15),c.Qb()),2&t){const t=c.gc();c.yb(1),c.mc("ngIf",null==t.fc.mesInicial||null==t.fc.mesInicial.errors?null:t.fc.mesInicial.errors.required)}}function U(t,e){if(1&t&&(c.Rb(0,"div",16),c.Hc(1),c.Qb()),2&t){const t=e.item;c.nc("title",null==t?null:t.nombreItem),c.yb(1),c.Jc(" ",null==t?null:t.nombreItem," ")}}function G(t,e){if(1&t&&(c.Rb(0,"div",16),c.Hc(1),c.Qb()),2&t){const t=e.item;c.nc("title",null==t?null:t.nombreItem),c.yb(1),c.Jc(" ",null==t?null:t.nombreItem," ")}}function K(t,e){if(1&t&&(c.Rb(0,"div",16),c.Hc(1),c.Qb()),2&t){const t=e.item;c.nc("title",null==t?null:t.nombreItem),c.yb(1),c.Jc(" ",null==t?null:t.nombreItem," ")}}const W=function(t){return{"is-invalid":t}},X=t=>{const e=t.get("mesInicial"),o=t.get("mesFinal");let a=!0;return e.value&&o.value?e.value>o.value?(a=!1,e.setErrors({periodoInvalido:!0}),o.setErrors({periodoInvalido:!0})):(a=!0,e.setErrors(null),o.setErrors(null)):e.value||o.value?(a=!1,e.setValidators(i.n.required),o.setValidators(i.n.required)):e.value||o.value||(a=!0,e.setErrors(null),o.setErrors(null),e.clearValidators(),o.clearValidators()),a?null:{periodoInvalido:!0}};let Z=(()=>{class t{constructor(t,e){this.formBuilder=t,this.apiRestSharedService=e,this.catAnios=[],this.catMeses=[{clave:1,nombre:"Enero"},{clave:2,nombre:"Febrero"},{clave:3,nombre:"Marzo"},{clave:4,nombre:"Abril"},{clave:5,nombre:"Mayo"},{clave:6,nombre:"Junio"},{clave:7,nombre:"Julio"},{clave:8,nombre:"Agosto"},{clave:9,nombre:"Septiembre"},{clave:10,nombre:"Octubre"},{clave:11,nombre:"Noviembre"},{clave:12,nombre:"Diciembre"}],this.filtrosValidosEvent=new c.n}ngOnInit(){this.groupForm=this.formBuilder.group({anio:[{value:"2020",disabled:!1},[i.n.required]],mesInicial:[{value:null,disabled:!1}],mesFinal:[{value:null,disabled:!1}],colonia:[{value:null,disabled:!1}],tipoAdeudo:[{value:null,disabled:!1}],estatus:[{value:null,disabled:!1}]},{validators:X}),this.changeSelectFilter(),this.getCatAnios()}get fc(){return this.groupForm.controls}changeSelectFilter(t,e){t||"anio"!=e||this.fc.anio.setValue("2020"),this.groupForm.valid&&this.filtrosValidosEvent.emit(this.groupForm.value)}getCatAnios(){this.catAnios=this.apiRestSharedService.getCatalogoAnios()}}return t.\u0275fac=function(e){return new(e||t)(c.Lb(i.c),c.Lb(l.a))},t.\u0275cmp=c.Fb({type:t,selectors:[["app-not-bar-filters"]],inputs:{catColonias:"catColonias",catTiposAdeudos:"catTiposAdeudos",CatEstatusNot:"CatEstatusNot"},outputs:{filtrosValidosEvent:"filtrosValidosEvent"},decls:24,vars:14,consts:[[1,"row","mb-5","mt-1"],[1,"col-sm-12"],[1,"form-inline","no-gutters",3,"formGroup"],[1,"col-md-3"],["notFoundText","Sin resultados","loadingText","Cargando...","formControlName","anio",3,"items","change"],[1,"col-md-1"],["bindLabel","nombre","bindValue","clave","notFoundText","Sin resultados","loadingText","Cargando...","placeholder","Mes Del","formControlName","mesInicial",3,"items","ngClass","change"],["class","invalid-feedback-ng-select",4,"ngIf"],["bindLabel","nombre","bindValue","clave","notFoundText","Sin resultados","loadingText","Cargando...","placeholder","Mes Al","formControlName","mesFinal",3,"items","ngClass","change"],[1,"col-md-12","my-1"],["bindLabel","nombreItem","bindValue","claveSIM","notFoundText","Sin resultados","loadingText","Cargando...","placeholder","Colonias","formControlName","colonia",3,"items","change"],["ng-option-tmp",""],["bindLabel","nombreItem","bindValue","claveSIM","notFoundText","Sin resultados","loadingText","Cargando...","placeholder","Categor\xeda","formControlName","tipoAdeudo",3,"items","change"],["bindLabel","nombreItem","bindValue","claveSIM","notFoundText","Sin resultados","loadingText","Cargando...","placeholder","Estatus","formControlName","estatus",3,"items","change"],[1,"invalid-feedback-ng-select"],[4,"ngIf"],[3,"title"]],template:function(t,e){1&t&&(c.Rb(0,"div",0),c.Rb(1,"div",1),c.Rb(2,"form",2),c.Rb(3,"div",3),c.Rb(4,"ng-select",4),c.cc("change",(function(t){return e.changeSelectFilter(t,"anio")})),c.Qb(),c.Qb(),c.Mb(5,"div",5),c.Rb(6,"div",3),c.Rb(7,"ng-select",6),c.cc("change",(function(t){return e.changeSelectFilter(t,"mInit")})),c.Qb(),c.Fc(8,q,2,1,"div",7),c.Qb(),c.Mb(9,"div",5),c.Rb(10,"div",3),c.Rb(11,"ng-select",8),c.cc("change",(function(t){return e.changeSelectFilter(t,"mesFinal")})),c.Qb(),c.Qb(),c.Mb(12,"div",9),c.Rb(13,"div",3),c.Rb(14,"ng-select",10),c.cc("change",(function(t){return e.changeSelectFilter(t,"colonia")})),c.Fc(15,U,2,2,"ng-template",11),c.Qb(),c.Qb(),c.Mb(16,"div",5),c.Rb(17,"div",3),c.Rb(18,"ng-select",12),c.cc("change",(function(t){return e.changeSelectFilter(t,"catAdeudo")})),c.Fc(19,G,2,2,"ng-template",11),c.Qb(),c.Qb(),c.Mb(20,"div",5),c.Rb(21,"div",3),c.Rb(22,"ng-select",13),c.cc("change",(function(t){return e.changeSelectFilter(t,"estatus")})),c.Fc(23,K,2,2,"ng-template",11),c.Qb(),c.Qb(),c.Qb(),c.Qb(),c.Qb()),2&t&&(c.yb(2),c.mc("formGroup",e.groupForm),c.yb(2),c.mc("items",e.catAnios),c.yb(3),c.mc("items",e.catMeses)("ngClass",c.qc(10,W,(null==e.fc.mesInicial?null:e.fc.mesInicial.errors)&&(null==e.fc.mesInicial?null:e.fc.mesInicial.dirty))),c.yb(1),c.mc("ngIf",(null==e.fc.mesInicial?null:e.fc.mesInicial.errors)&&(null==e.fc.mesInicial?null:e.fc.mesInicial.dirty)),c.yb(3),c.mc("items",e.catMeses)("ngClass",c.qc(12,W,(null==e.fc.mesFinal?null:e.fc.mesFinal.errors)&&(null==e.fc.mesFinal?null:e.fc.mesFinal.dirty))),c.yb(3),c.mc("items",e.catColonias),c.yb(4),c.mc("items",e.catTiposAdeudos),c.yb(4),c.mc("items",e.CatEstatusNot))},directives:[i.p,i.j,i.e,v.a,i.i,i.d,a.k,a.m,v.c],styles:[""]}),t})();function Y(t,e){if(1&t&&(c.Rb(0,"div",13),c.Rb(1,"h2",14),c.Hc(2),c.Qb(),c.Rb(3,"span",15),c.Hc(4),c.Qb(),c.Rb(5,"span",16),c.Hc(6),c.Qb(),c.Rb(7,"div",17),c.Mb(8,"div",18),c.Qb(),c.Qb()),2&t){const t=e.$implicit;c.yb(2),c.Ic(t.value),c.yb(2),c.Ic(t.name),c.yb(2),c.Ic(t.porcent),c.yb(2),c.Dc("width",t.porcent)("background-color",t.color)}}const tt=["#7E72A8","#AE9AF5","#D1F58D","#A85177","#F582B3","#49BDFD","#42D4E3","#55FADC","#42E398","#49FD76"];let et=(()=>{class t{constructor(t){this.apiRestCobranzaService=t,this.colors=tt}ngOnInit(){}getNotificacionColonias(t){this.apiRestCobranzaService.getNotificacionColonias({anio:null==t?void 0:t.anio,categoriaAdeudo:(null==t?void 0:t.tipoAdeudo)?null==t?void 0:t.tipoAdeudo:"",mesInicio:(null==t?void 0:t.mesInicial)?null==t?void 0:t.mesInicial:"",mesFin:(null==t?void 0:t.mesFinal)?null==t?void 0:t.mesFinal:"",colonia:(null==t?void 0:t.colonia)?null==t?void 0:t.colonia:"",estatusNotificacion:(null==t?void 0:t.estatus)?null==t?void 0:t.estatus:""}).subscribe(t=>{t&&(this.chartA=this.generateChart_a(null==t?void 0:t.body),this.chartB=this.generateChart_b(null==t?void 0:t.body))},t=>{})}generateChart_a(t){const e=r.map(t,(t,e)=>({name:null==t?void 0:t.colonia,value:null==t?void 0:t.totalMontoAdeudoNotificado}));return console.log("::::: CHART_A: ",JSON.stringify(e)),e}generateChart_b(t){const e=t.reduce((t,e)=>t+e.cantidadNotificaciones,0),o=r.map(t,(t,o)=>({name:null==t?void 0:t.colonia,value:""+(null==t?void 0:t.cantidadNotificaciones.toString().replace(/\B(?=(\d{3})+(?!\d))/g,",")),porcent:this.generatePorcent(e,null==t?void 0:t.cantidadNotificaciones),color:tt[o]})),a={total:""+e.toString().replace(/\B(?=(\d{3})+(?!\d))/g,","),data:o};return console.log("::::: CHART_B: ",JSON.stringify(a)),a}generatePorcent(t,e){return t&&e?Math.round(100*e/t)+"%":"0%"}}return t.\u0275fac=function(e){return new(e||t)(c.Lb(p))},t.\u0275cmp=c.Fb({type:t,selectors:[["app-not-wrapper-charts-colonia"]],inputs:{catColonias:"catColonias",catTiposAdeudos:"catTiposAdeudos",CatEstatusNot:"CatEstatusNot"},decls:17,vars:6,consts:[[1,"card"],[1,"card-heading","border","bottom"],[1,"card-title"],[1,"card-block","mb-5"],[3,"catColonias","catTiposAdeudos","CatEstatusNot","filtrosValidosEvent"],[1,"row"],[1,"col-md-8"],[3,"data"],[1,"col-md-4","border","left","border-hide-sm"],[1,"mrg-btm-5"],[1,"no-mrg-vertical","font-size-35"],[1,"text-semibold"],["class","mrg-top-10",4,"ngFor","ngForOf"],[1,"mrg-top-10"],[1,"no-mrg-btm"],[1,"inline-block","mrg-btm-10","font-size-13","text-semibold"],[1,"pull-right","pdd-right-10","font-size-13"],[1,"progress","progress-primary"],["role","progressbar","aria-valuenow","70","aria-valuemin","0","aria-valuemax","100",1,"progress-bar"]],template:function(t,e){1&t&&(c.Rb(0,"div",0),c.Rb(1,"div",1),c.Rb(2,"h4",2),c.Hc(3,"Cantidad de Cartas y Montos por Colonia"),c.Qb(),c.Qb(),c.Rb(4,"div",3),c.Rb(5,"app-not-bar-filters",4),c.cc("filtrosValidosEvent",(function(t){return e.getNotificacionColonias(t)})),c.Qb(),c.Rb(6,"div",5),c.Rb(7,"div",6),c.Mb(8,"app-ngx-advanced-pie-chart",7),c.Qb(),c.Rb(9,"div",8),c.Rb(10,"p",9),c.Hc(11,"Cantidad de Cartas"),c.Qb(),c.Rb(12,"h1",10),c.Hc(13),c.Qb(),c.Rb(14,"p",11),c.Hc(15,"Total"),c.Qb(),c.Fc(16,Y,9,7,"div",12),c.Qb(),c.Qb(),c.Qb(),c.Qb()),2&t&&(c.yb(5),c.mc("catColonias",e.catColonias)("catTiposAdeudos",e.catTiposAdeudos)("CatEstatusNot",e.CatEstatusNot),c.yb(3),c.mc("data",e.chartA),c.yb(5),c.Jc(" ",null==e.chartB?null:e.chartB.total," "),c.yb(3),c.mc("ngForOf",null==e.chartB?null:e.chartB.data))},directives:[Z,V.a,a.l],styles:[""]}),t})();function ot(t,e){if(1&t&&(c.Rb(0,"div",13),c.Rb(1,"h2",14),c.Hc(2),c.Qb(),c.Rb(3,"span",15),c.Hc(4),c.Qb(),c.Rb(5,"span",16),c.Hc(6),c.Qb(),c.Rb(7,"div",17),c.Mb(8,"div",18),c.Qb(),c.Qb()),2&t){const t=e.$implicit;c.yb(2),c.Ic(t.value),c.yb(2),c.Ic(t.name),c.yb(2),c.Ic(t.porcent),c.yb(2),c.Dc("width",t.porcent)("background-color",t.color)}}const at=["#7E72A8","#AE9AF5","#D1F58D","#A85177","#F582B3","#49BDFD","#42D4E3","#55FADC","#42E398","#49FD76"];let it=(()=>{class t{constructor(t){this.apiRestCobranzaService=t,this.colors=at,this.labelXChartA="Monto Aduedo Notificador",this.labelYChartA="Notificador"}ngOnInit(){}getNotificacionProductividad(t){this.apiRestCobranzaService.getNotificacionProductividad({anio:null==t?void 0:t.anio,categoriaAdeudo:(null==t?void 0:t.tipoAdeudo)?null==t?void 0:t.tipoAdeudo:"",mesInicio:(null==t?void 0:t.mesInicial)?null==t?void 0:t.mesInicial:"",mesFin:(null==t?void 0:t.mesFinal)?null==t?void 0:t.mesFinal:"",colonia:(null==t?void 0:t.colonia)?null==t?void 0:t.colonia:"",estatusNotificacion:(null==t?void 0:t.estatus)?null==t?void 0:t.estatus:""}).subscribe(t=>{t&&(this.chartA=this.generateChart_a(null==t?void 0:t.body),this.chartB=this.generateChart_b(null==t?void 0:t.body))},t=>{})}generateChart_a(t){const e=r.map(t,(t,e)=>({name:null==t?void 0:t.notificador,value:null==t?void 0:t.totalMontoAdeudoNotificado}));return console.log("::::: CHART_A: ",JSON.stringify(e)),e}generateChart_b(t){const e=t.reduce((t,e)=>t+e.cantidadNotificaciones,0),o=r.map(t,(t,o)=>({name:null==t?void 0:t.notificador,value:""+(null==t?void 0:t.cantidadNotificaciones.toString().replace(/\B(?=(\d{3})+(?!\d))/g,",")),porcent:this.generatePorcent(e,null==t?void 0:t.cantidadNotificaciones),color:at[o]})),a={total:""+e.toString().replace(/\B(?=(\d{3})+(?!\d))/g,","),data:o};return console.log("::::: CHART_B: ",JSON.stringify(a)),a}generatePorcent(t,e){return t&&e?Math.round(100*e/t)+"%":"0%"}}return t.\u0275fac=function(e){return new(e||t)(c.Lb(p))},t.\u0275cmp=c.Fb({type:t,selectors:[["app-not-wrapper-charts-productividad"]],inputs:{catColonias:"catColonias",catTiposAdeudos:"catTiposAdeudos",CatEstatusNot:"CatEstatusNot"},decls:17,vars:8,consts:[[1,"card"],[1,"card-heading","border","bottom"],[1,"card-title"],[1,"card-block","mb-5"],[3,"catColonias","catTiposAdeudos","CatEstatusNot","filtrosValidosEvent"],[1,"row"],[1,"col-md-8"],[3,"data","yAxisLabel","xAxisLabel"],[1,"col-md-4","border","left","border-hide-sm"],[1,"mrg-btm-5"],[1,"no-mrg-vertical","font-size-35"],[1,"text-semibold"],["class","mrg-top-10",4,"ngFor","ngForOf"],[1,"mrg-top-10"],[1,"no-mrg-btm"],[1,"inline-block","mrg-btm-10","font-size-13","text-semibold"],[1,"pull-right","pdd-right-10","font-size-13"],[1,"progress","progress-primary"],["role","progressbar","aria-valuenow","70","aria-valuemin","0","aria-valuemax","100",1,"progress-bar"]],template:function(t,e){1&t&&(c.Rb(0,"div",0),c.Rb(1,"div",1),c.Rb(2,"h4",2),c.Hc(3,"Productividad por Notificador"),c.Qb(),c.Qb(),c.Rb(4,"div",3),c.Rb(5,"app-not-bar-filters",4),c.cc("filtrosValidosEvent",(function(t){return e.getNotificacionProductividad(t)})),c.Qb(),c.Rb(6,"div",5),c.Rb(7,"div",6),c.Mb(8,"app-ngx-horizontal-bar-chart",7),c.Qb(),c.Rb(9,"div",8),c.Rb(10,"p",9),c.Hc(11,"Cantidad de Cartas"),c.Qb(),c.Rb(12,"h1",10),c.Hc(13),c.Qb(),c.Rb(14,"p",11),c.Hc(15,"Total"),c.Qb(),c.Fc(16,ot,9,7,"div",12),c.Qb(),c.Qb(),c.Qb(),c.Qb()),2&t&&(c.yb(5),c.mc("catColonias",e.catColonias)("catTiposAdeudos",e.catTiposAdeudos)("CatEstatusNot",e.CatEstatusNot),c.yb(3),c.mc("data",e.chartA)("yAxisLabel",e.labelXChartA)("xAxisLabel",e.labelYChartA),c.yb(5),c.Jc(" ",null==e.chartB?null:e.chartB.total," "),c.yb(3),c.mc("ngForOf",null==e.chartB?null:e.chartB.data))},directives:[Z,M.a,a.l],styles:[""]}),t})();function nt(t,e){if(1&t&&(c.Rb(0,"div",13),c.Rb(1,"h2",14),c.Hc(2),c.Qb(),c.Rb(3,"span",15),c.Hc(4),c.Qb(),c.Rb(5,"span",16),c.Hc(6),c.Qb(),c.Rb(7,"div",17),c.Mb(8,"div",18),c.Qb(),c.Qb()),2&t){const t=e.$implicit;c.yb(2),c.Ic(t.value),c.yb(2),c.Ic(t.name),c.yb(2),c.Ic(t.porcent),c.yb(2),c.Dc("width",t.porcent)("background-color",t.color)}}const rt=["#7E72A8","#AE9AF5","#D1F58D","#A85177","#F582B3","#49BDFD","#42D4E3","#55FADC","#42E398","#49FD76"];let ct=(()=>{class t{constructor(t){this.apiRestCobranzaService=t,this.colors=rt}ngOnInit(){}getNotificacionMediosEntrega(t){this.apiRestCobranzaService.getNotificacionMediosEntrega({anio:null==t?void 0:t.anio,categoriaAdeudo:(null==t?void 0:t.tipoAdeudo)?null==t?void 0:t.tipoAdeudo:"",mesInicio:(null==t?void 0:t.mesInicial)?null==t?void 0:t.mesInicial:"",mesFin:(null==t?void 0:t.mesFinal)?null==t?void 0:t.mesFinal:"",colonia:(null==t?void 0:t.colonia)?null==t?void 0:t.colonia:"",estatusNotificacion:(null==t?void 0:t.estatus)?null==t?void 0:t.estatus:""}).subscribe(t=>{t&&(this.chartA=this.generateChart_a(null==t?void 0:t.body),this.chartB=this.generateChart_b(null==t?void 0:t.body))},t=>{})}generateChart_a(t){const e=r.map(t,(t,e)=>({name:null==t?void 0:t.medioNotificacion,value:null==t?void 0:t.totalMontoAdeudoNotificado}));return console.log("::::: CHART_A: ",JSON.stringify(e)),e}generateChart_b(t){const e=t.reduce((t,e)=>t+e.cantidadNotificaciones,0),o=r.map(t,(t,o)=>({name:null==t?void 0:t.medioNotificacion,value:""+(null==t?void 0:t.cantidadNotificaciones.toString().replace(/\B(?=(\d{3})+(?!\d))/g,",")),porcent:this.generatePorcent(e,null==t?void 0:t.cantidadNotificaciones),color:rt[o]})),a={total:""+e.toString().replace(/\B(?=(\d{3})+(?!\d))/g,","),data:o};return console.log("::::: CHART_B: ",JSON.stringify(a)),a}generatePorcent(t,e){return t&&e?Math.round(100*e/t)+"%":"0%"}}return t.\u0275fac=function(e){return new(e||t)(c.Lb(p))},t.\u0275cmp=c.Fb({type:t,selectors:[["app-not-wrapper-charts-medios-entrega"]],inputs:{catColonias:"catColonias",catTiposAdeudos:"catTiposAdeudos",CatEstatusNot:"CatEstatusNot"},decls:17,vars:6,consts:[[1,"card"],[1,"card-heading","border","bottom"],[1,"card-title"],[1,"card-block","mb-5"],[3,"catColonias","catTiposAdeudos","CatEstatusNot","filtrosValidosEvent"],[1,"row"],[1,"col-md-8"],[3,"data"],[1,"col-md-4","border","left","border-hide-sm"],[1,"mrg-btm-5"],[1,"no-mrg-vertical","font-size-35"],[1,"text-semibold"],["class","mrg-top-10",4,"ngFor","ngForOf"],[1,"mrg-top-10"],[1,"no-mrg-btm"],[1,"inline-block","mrg-btm-10","font-size-13","text-semibold"],[1,"pull-right","pdd-right-10","font-size-13"],[1,"progress","progress-primary"],["role","progressbar","aria-valuenow","70","aria-valuemin","0","aria-valuemax","100",1,"progress-bar"]],template:function(t,e){1&t&&(c.Rb(0,"div",0),c.Rb(1,"div",1),c.Rb(2,"h4",2),c.Hc(3,"Medios de Entrega de Notificaci\xf3n"),c.Qb(),c.Qb(),c.Rb(4,"div",3),c.Rb(5,"app-not-bar-filters",4),c.cc("filtrosValidosEvent",(function(t){return e.getNotificacionMediosEntrega(t)})),c.Qb(),c.Rb(6,"div",5),c.Rb(7,"div",6),c.Mb(8,"app-ngx-advanced-pie-chart",7),c.Qb(),c.Rb(9,"div",8),c.Rb(10,"p",9),c.Hc(11,"Cantidad de Cartas"),c.Qb(),c.Rb(12,"h1",10),c.Hc(13),c.Qb(),c.Rb(14,"p",11),c.Hc(15,"Total"),c.Qb(),c.Fc(16,nt,9,7,"div",12),c.Qb(),c.Qb(),c.Qb(),c.Qb()),2&t&&(c.yb(5),c.mc("catColonias",e.catColonias)("catTiposAdeudos",e.catTiposAdeudos)("CatEstatusNot",e.CatEstatusNot),c.yb(3),c.mc("data",e.chartA),c.yb(5),c.Jc(" ",null==e.chartB?null:e.chartB.total," "),c.yb(3),c.mc("ngForOf",null==e.chartB?null:e.chartB.data))},directives:[Z,V.a,a.l],styles:[""]}),t})(),lt=(()=>{class t{constructor(t){this.apiRestSharedService=t,this.catalogos={COLONIA:[],ESTATUS_NOTIFICACION:[],CAT_ADEUDO:[]},r.each(this.catalogos,(t,e)=>{this.getCatalogo(e)})}ngOnInit(){}getCatalogo(t){this.apiRestSharedService.getCatalogo(t).subscribe(e=>{e&&(this.catalogos[t]=e.body)},t=>{})}}return t.\u0275fac=function(e){return new(e||t)(c.Lb(l.a))},t.\u0275cmp=c.Fb({type:t,selectors:[["app-notificaciones"]],decls:14,vars:9,consts:[[1,"container-fluid"],[1,"page-title"],[1,"row"],[1,"col","col-sm-12"],[3,"catColonias","catTiposAdeudos","CatEstatusNot"]],template:function(t,e){1&t&&(c.Rb(0,"div",0),c.Rb(1,"div",1),c.Rb(2,"h4"),c.Hc(3," Notificaciones "),c.Mb(4,"hr"),c.Qb(),c.Qb(),c.Rb(5,"div",2),c.Rb(6,"div",3),c.Mb(7,"app-not-wrapper-charts-colonia",4),c.Qb(),c.Qb(),c.Rb(8,"div",2),c.Rb(9,"div",3),c.Mb(10,"app-not-wrapper-charts-productividad",4),c.Qb(),c.Qb(),c.Rb(11,"div",2),c.Rb(12,"div",3),c.Mb(13,"app-not-wrapper-charts-medios-entrega",4),c.Qb(),c.Qb(),c.Qb()),2&t&&(c.yb(7),c.mc("catColonias",e.catalogos.COLONIA)("catTiposAdeudos",e.catalogos.CAT_ADEUDO)("CatEstatusNot",e.catalogos.ESTATUS_NOTIFICACION),c.yb(3),c.mc("catColonias",e.catalogos.COLONIA)("catTiposAdeudos",e.catalogos.CAT_ADEUDO)("CatEstatusNot",e.catalogos.ESTATUS_NOTIFICACION),c.yb(3),c.mc("catColonias",e.catalogos.COLONIA)("catTiposAdeudos",e.catalogos.CAT_ADEUDO)("CatEstatusNot",e.catalogos.ESTATUS_NOTIFICACION))},directives:[et,it,ct],styles:[""]}),t})();function st(t,e){if(1&t&&(c.Rb(0,"div",11),c.Hc(1),c.Qb()),2&t){const t=e.item;c.nc("title",null==t?null:t.nombreItem),c.yb(1),c.Jc(" ",null==t?null:t.nombreItem," ")}}const dt=function(t){return{"is-invalid":t}},bt=t=>{const e=t.get("mesInicial"),o=t.get("mesFinal");let a=!0;return e.value&&o.value?e.value>o.value?(a=!1,e.setErrors({periodoInvalido:!0}),o.setErrors({periodoInvalido:!0})):(a=!0,e.setErrors(null),o.setErrors(null)):e.value||o.value?(a=!1,e.setValidators(i.n.required),o.setValidators(i.n.required)):e.value||o.value||(a=!0,e.setErrors(null),o.setErrors(null),e.clearValidators(),o.clearValidators()),a?null:{periodoInvalido:!0}};let ut=(()=>{class t{constructor(t,e){this.formBuilder=t,this.apiRestSharedService=e,this.catAnios=[],this.catMeses=[{clave:1,nombre:"Enero"},{clave:2,nombre:"Febrero"},{clave:3,nombre:"Marzo"},{clave:4,nombre:"Abril"},{clave:5,nombre:"Mayo"},{clave:6,nombre:"Junio"},{clave:7,nombre:"Julio"},{clave:8,nombre:"Agosto"},{clave:9,nombre:"Septiembre"},{clave:10,nombre:"Octubre"},{clave:11,nombre:"Noviembre"},{clave:12,nombre:"Diciembre"}],this.filtrosValidosEvent=new c.n}ngOnInit(){this.groupForm=this.formBuilder.group({anio:[{value:"2020",disabled:!1},[i.n.required]],mesInicial:[{value:null,disabled:!1}],mesFinal:[{value:null,disabled:!1}],categoriaAdeudo:[{value:null,disabled:!1}]},{validators:bt}),this.changeSelectFilter(),this.getCatAnios()}get fc(){return this.groupForm.controls}changeSelectFilter(t,e){t||"anio"!=e||this.fc.anio.setValue("2020"),this.groupForm.valid&&this.filtrosValidosEvent.emit(this.groupForm.value)}getCatAnios(){this.catAnios=this.apiRestSharedService.getCatalogoAnios()}}return t.\u0275fac=function(e){return new(e||t)(c.Lb(i.c),c.Lb(l.a))},t.\u0275cmp=c.Fb({type:t,selectors:[["app-rc-bar-filters-pago-adeudos"]],inputs:{catTiposAdeudos:"catTiposAdeudos"},outputs:{filtrosValidosEvent:"filtrosValidosEvent"},decls:15,vars:11,consts:[[1,"row","mb-5","mt-1"],[1,"col-sm-12"],[1,"form-inline","no-gutters",3,"formGroup"],[1,"col-md-5"],["notFoundText","Sin resultados","loadingText","Cargando...","formControlName","anio",3,"items","change"],[1,"col-md-1"],["bindLabel","nombre","bindValue","clave","notFoundText","Sin resultados","loadingText","Cargando...","placeholder","Mes Del","formControlName","mesInicial",3,"items","ngClass","change"],[1,"col-md-12","my-1"],["bindLabel","nombre","bindValue","clave","notFoundText","Sin resultados","loadingText","Cargando...","placeholder","Mes Al","formControlName","mesFinal",3,"items","ngClass","change"],["bindLabel","nombreItem","bindValue","claveSIM","notFoundText","Sin resultados","loadingText","Cargando...","placeholder","Tipo adeudo","formControlName","categoriaAdeudo",3,"items","change"],["ng-option-tmp",""],[3,"title"]],template:function(t,e){1&t&&(c.Rb(0,"div",0),c.Rb(1,"div",1),c.Rb(2,"form",2),c.Rb(3,"div",3),c.Rb(4,"ng-select",4),c.cc("change",(function(t){return e.changeSelectFilter(t,"anio")})),c.Qb(),c.Qb(),c.Mb(5,"div",5),c.Rb(6,"div",3),c.Rb(7,"ng-select",6),c.cc("change",(function(t){return e.changeSelectFilter(t,"mInit")})),c.Qb(),c.Qb(),c.Mb(8,"div",7),c.Rb(9,"div",3),c.Rb(10,"ng-select",8),c.cc("change",(function(t){return e.changeSelectFilter(t,"mesFinal")})),c.Qb(),c.Qb(),c.Mb(11,"div",5),c.Rb(12,"div",3),c.Rb(13,"ng-select",9),c.cc("change",(function(t){return e.changeSelectFilter(t,"catAdeudo")})),c.Fc(14,st,2,2,"ng-template",10),c.Qb(),c.Qb(),c.Qb(),c.Qb(),c.Qb()),2&t&&(c.yb(2),c.mc("formGroup",e.groupForm),c.yb(2),c.mc("items",e.catAnios),c.yb(3),c.mc("items",e.catMeses)("ngClass",c.qc(7,dt,(null==e.fc.mesInicial?null:e.fc.mesInicial.errors)&&(null==e.fc.mesInicial?null:e.fc.mesInicial.dirty))),c.yb(3),c.mc("items",e.catMeses)("ngClass",c.qc(9,dt,(null==e.fc.mesFinal?null:e.fc.mesFinal.errors)&&(null==e.fc.mesFinal?null:e.fc.mesFinal.dirty))),c.yb(3),c.mc("items",e.catTiposAdeudos))},directives:[i.p,i.j,i.e,v.a,i.i,i.d,a.k,v.c],styles:[""]}),t})();function mt(t,e){if(1&t&&(c.Rb(0,"div",13),c.Rb(1,"h2",14),c.Hc(2),c.Qb(),c.Rb(3,"span",15),c.Hc(4),c.Qb(),c.Rb(5,"span",16),c.Hc(6),c.Qb(),c.Rb(7,"div",17),c.Mb(8,"div",18),c.Qb(),c.Qb()),2&t){const t=e.$implicit;c.yb(2),c.Ic(t.value),c.yb(2),c.Ic(t.name),c.yb(2),c.Ic(t.porcent),c.yb(2),c.Dc("width",t.porcent)("background-color",t.color)}}const gt=["#7E72A8","#AE9AF5","#D1F58D","#A85177","#F582B3","#49BDFD","#42D4E3","#55FADC","#42E398","#49FD76"],pt={1:"Enero",2:"Febrero",3:"Marzo",4:"Abril",5:"Mayo",6:"Junio",7:"Julio",8:"Agosto",9:"Septiembre",10:"Octubre",11:"Noviembre",12:"Diciembre"};let vt=(()=>{class t{constructor(t){this.apiRestCobranzaService=t,this.colors=gt,this.labelXChartA="Monto Aduedo",this.labelYChartA="Meses"}ngOnInit(){}getPagosAdeudosCategoria(t){this.apiRestCobranzaService.getPagosAdeudosCategoria({anio:null==t?void 0:t.anio,categoriaAdeudo:(null==t?void 0:t.categoriaAdeudo)?null==t?void 0:t.categoriaAdeudo:"",mesInicio:(null==t?void 0:t.mesInicial)?null==t?void 0:t.mesInicial:"",mesFin:(null==t?void 0:t.mesFinal)?null==t?void 0:t.mesFinal:""}).subscribe(t=>{t&&(this.chartA=this.generateChart_a(null==t?void 0:t.body),this.chartB=this.generateChart_b(null==t?void 0:t.body))},t=>{})}generateChart_a(t){const e=r.map(r.orderBy(t,"mes"),(t,e)=>({name:pt[null==t?void 0:t.mes],value:null==t?void 0:t.totalMontoAdeudoPagado}));return console.log("::::: CHART_A: ",JSON.stringify(e)),e}generateChart_b(t){const e=t.reduce((t,e)=>t+ +e.cantidadAdeudos,0),o=r.map(r.orderBy(t,"mes"),(t,o)=>({name:pt[null==t?void 0:t.mes],value:""+(null==t?void 0:t.cantidadAdeudos.toString().replace(/\B(?=(\d{3})+(?!\d))/g,",")),porcent:this.generatePorcent(e,null==t?void 0:t.cantidadAdeudos),color:gt[o]})),a={total:""+e.toString().replace(/\B(?=(\d{3})+(?!\d))/g,","),data:o};return console.log("::::: CHART_B: ",JSON.stringify(a)),a}generatePorcent(t,e){return t&&e?Math.round(100*e/t)+"%":"0%"}}return t.\u0275fac=function(e){return new(e||t)(c.Lb(p))},t.\u0275cmp=c.Fb({type:t,selectors:[["app-wrappers-charts-pago-adeudos"]],inputs:{catTiposAdeudos:"catTiposAdeudos"},decls:17,vars:6,consts:[[1,"card"],[1,"card-heading","border","bottom"],[1,"card-title"],[1,"card-block","mb-5"],[3,"catTiposAdeudos","filtrosValidosEvent"],[1,"row"],[1,"col-md-8"],[3,"data","yAxisLabel","xAxisLabel"],[1,"col-md-4","border","left","border-hide-sm"],[1,"mrg-btm-5"],[1,"no-mrg-vertical","font-size-35"],[1,"text-semibold"],["class","mrg-top-10",4,"ngFor","ngForOf"],[1,"mrg-top-10"],[1,"no-mrg-btm"],[1,"inline-block","mrg-btm-10","font-size-13","text-semibold"],[1,"pull-right","pdd-right-10","font-size-13"],[1,"progress","progress-primary"],["role","progressbar","aria-valuenow","70","aria-valuemin","0","aria-valuemax","100",1,"progress-bar"]],template:function(t,e){1&t&&(c.Rb(0,"div",0),c.Rb(1,"div",1),c.Rb(2,"h4",2),c.Hc(3,"Pago de Adeudos"),c.Qb(),c.Qb(),c.Rb(4,"div",3),c.Rb(5,"app-rc-bar-filters-pago-adeudos",4),c.cc("filtrosValidosEvent",(function(t){return e.getPagosAdeudosCategoria(t)})),c.Qb(),c.Rb(6,"div",5),c.Rb(7,"div",6),c.Mb(8,"app-ngx-horizontal-bar-chart",7),c.Qb(),c.Rb(9,"div",8),c.Rb(10,"p",9),c.Hc(11,"Cantidad de Adeudos"),c.Qb(),c.Rb(12,"h1",10),c.Hc(13),c.Qb(),c.Rb(14,"p",11),c.Hc(15,"Total"),c.Qb(),c.Fc(16,mt,9,7,"div",12),c.Qb(),c.Qb(),c.Qb(),c.Qb()),2&t&&(c.yb(5),c.mc("catTiposAdeudos",e.catTiposAdeudos),c.yb(3),c.mc("data",e.chartA)("yAxisLabel",e.labelYChartA)("xAxisLabel",e.labelXChartA),c.yb(5),c.Jc(" ",null==e.chartB?null:e.chartB.total," "),c.yb(3),c.mc("ngForOf",null==e.chartB?null:e.chartB.data))},directives:[ut,M.a,a.l],styles:[""]}),t})(),ht=(()=>{class t{constructor(t){this.apiRestSharedService=t,this.catalogos={CAT_ADEUDO:[]},r.each(this.catalogos,(t,e)=>{this.getCatalogo(e)})}ngOnInit(){}getCatalogo(t){this.apiRestSharedService.getCatalogo(t).subscribe(e=>{e&&(this.catalogos[t]=e.body)},t=>{})}}return t.\u0275fac=function(e){return new(e||t)(c.Lb(l.a))},t.\u0275cmp=c.Fb({type:t,selectors:[["app-resultados-cobranza"]],decls:8,vars:1,consts:[[1,"container-fluid"],[1,"page-title"],[1,"row"],[1,"col","col-sm-12"],[3,"catTiposAdeudos"]],template:function(t,e){1&t&&(c.Rb(0,"div",0),c.Rb(1,"div",1),c.Rb(2,"h4"),c.Hc(3," Resultados Cobranza "),c.Mb(4,"hr"),c.Qb(),c.Qb(),c.Rb(5,"div",2),c.Rb(6,"div",3),c.Mb(7,"app-wrappers-charts-pago-adeudos",4),c.Qb(),c.Qb(),c.Qb()),2&t&&(c.yb(7),c.mc("catTiposAdeudos",e.catalogos.CAT_ADEUDO))},directives:[vt],styles:[""]}),t})();var ft=o("OAoK");function At(t,e){if(1&t&&(c.Rb(0,"div",18),c.Hc(1),c.Qb()),2&t){const t=e.item;c.nc("title",null==t?null:t.nombreItem),c.yb(1),c.Jc(" ",null==t?null:t.nombreItem," ")}}function Ct(t,e){if(1&t&&(c.Rb(0,"div",18),c.Hc(1),c.Qb()),2&t){const t=e.item;c.nc("title",null==t?null:t.nombreItem),c.yb(1),c.Jc(" ",null==t?null:t.nombreItem," ")}}let Rt=(()=>{class t{constructor(t,e,o){this.apiRestCobranzaService=t,this.apiRestSharedService=e,this.formBuilder=o,this.catalogoAnios=[],this.catalogoAdeudos=[],this.catalogoColonias=[],this.chart_1=[]}ngOnInit(){this.groupForm=this.formBuilder.group({anio:[{value:null,disabled:!1},[i.n.required]],colonia:[{value:null,disabled:!1}],categoriaAdeudo:[{value:null,disabled:!1}]}),this.fc.anio.setValue(2020),this.getCatalogoColonias(),this.getCatalogoAdeudos(),this.getCatAnios(),this.getMediosPago()}changeFilters(){this.groupForm.valid&&this.getMediosPago()}getMediosPago(){const t={anio:this.fc.anio.value,colonia:this.fc.colonia.value?this.fc.colonia.value.claveSIM:"",categoriaAdeudo:this.fc.categoriaAdeudo.value?this.fc.categoriaAdeudo.value.claveSIM:""};this.fc.anio.value||delete t.anio,this.fc.colonia.value||delete t.colonia,this.fc.categoriaAdeudo.value||delete t.categoriaAdeudo,this.apiRestCobranzaService.obtenerPagosMedioPago(t).subscribe(t=>{this.chart_1=this.generarGrafica(t.body)},t=>{})}generarGrafica(t){return t.map(t=>({name:t.medioPago,value:t.montopagado,extra:"$"+this.formatNumber(t.montopagado)+", Cantidad de cartas: "+this.formatNumber(t.cantidadCartas)}))}get fc(){return this.groupForm.controls}getCatalogoColonias(){this.apiRestSharedService.getCatalogo("COLONIA").subscribe(t=>{t.body&&(this.catalogoColonias=t.body)},t=>{})}getCatalogoAdeudos(){this.apiRestSharedService.getCatalogo("CAT_ADEUDO").subscribe(t=>{t.body&&(this.catalogoAdeudos=t.body)},t=>{})}yAxisTickFormatting(t){return new Intl.NumberFormat("en-US",{style:"currency",currency:"USD",minimumFractionDigits:2}).format(t)}formatNumber(t){return t.toString().replace(/\B(?=(\d{3})+(?!\d))/g,",")}getCatAnios(){this.catalogoAnios=this.apiRestSharedService.getCatalogoAnios()}}return t.\u0275fac=function(e){return new(e||t)(c.Lb(p),c.Lb(l.a),c.Lb(i.c))},t.\u0275cmp=c.Fb({type:t,selectors:[["app-medios-pago"]],decls:26,vars:6,consts:[[1,"container-fluid"],[1,"page-title"],[1,"row"],[1,"col","col-sm-12"],[1,"card"],[1,"card-heading","border","bottom"],[1,"card-title"],[1,"card-block","mb-5"],[1,"col-sm-12_","mb-5","mt-1"],[1,"form-inline","no-gutters",3,"formGroup"],[1,"col-md-3"],["formControlName","anio",3,"items","change"],[1,"col-md-1"],["bindLabel","nombreItem","formControlName","categoriaAdeudo","placeholder","Categor\xeda Adeudo",3,"items","change"],["ng-option-tmp",""],[1,"col-md-4"],["bindLabel","nombreItem","formControlName","colonia","placeholder","Colonia",3,"items","change"],[3,"data","yAxisTickFormatting"],[3,"title"]],template:function(t,e){1&t&&(c.Rb(0,"div",0),c.Rb(1,"div",1),c.Rb(2,"h4"),c.Hc(3," Cobranza "),c.Mb(4,"hr"),c.Qb(),c.Qb(),c.Rb(5,"div",2),c.Rb(6,"div",3),c.Rb(7,"div",4),c.Rb(8,"div",5),c.Rb(9,"h4",6),c.Hc(10,"Medios de pago"),c.Qb(),c.Qb(),c.Rb(11,"div",7),c.Rb(12,"div",8),c.Rb(13,"form",9),c.Rb(14,"div",10),c.Rb(15,"ng-select",11),c.cc("change",(function(){return e.changeFilters()})),c.Qb(),c.Qb(),c.Mb(16,"div",12),c.Rb(17,"div",10),c.Rb(18,"ng-select",13),c.cc("change",(function(){return e.changeFilters()})),c.Fc(19,At,2,2,"ng-template",14),c.Qb(),c.Qb(),c.Mb(20,"div",12),c.Rb(21,"div",15),c.Rb(22,"ng-select",16),c.cc("change",(function(){return e.changeFilters()})),c.Fc(23,Ct,2,2,"ng-template",14),c.Qb(),c.Qb(),c.Qb(),c.Qb(),c.Mb(24,"app-ngx-vertical-bar-chart",17),c.Qb(),c.Qb(),c.Mb(25,"div"),c.Qb(),c.Qb(),c.Qb()),2&t&&(c.yb(13),c.mc("formGroup",e.groupForm),c.yb(2),c.mc("items",e.catalogoAnios),c.yb(3),c.mc("items",e.catalogoAdeudos),c.yb(4),c.mc("items",e.catalogoColonias),c.yb(2),c.mc("data",e.chart_1)("yAxisTickFormatting",e.yAxisTickFormatting))},directives:[i.p,i.j,i.e,v.a,i.i,i.d,v.c,ft.a],encapsulation:2}),t})();function Ft(t,e){if(1&t&&(c.Rb(0,"div",16),c.Hc(1),c.Qb()),2&t){const t=e.item;c.nc("title",null==t?null:t.nombreItem),c.yb(1),c.Jc(" ",null==t?null:t.nombreItem," ")}}let yt=(()=>{class t{constructor(t,e,o){this.apiRestCobranzaService=t,this.apiRestSharedService=e,this.formBuilder=o,this.catalogoAnios=[],this.catalogoAdeudos=[],this.chart_1=[]}ngOnInit(){this.groupForm=this.formBuilder.group({anio:[{value:null,disabled:!1},[i.n.required]],categoriaAdeudo:[{value:null,disabled:!1}]}),this.fc.anio.setValue(2020),this.getCatalogoAdeudos(),this.getCatAnios(),this.getMediosPago()}changeFilters(){this.groupForm.valid&&this.getMediosPago()}getMediosPago(){const t={anio:this.fc.anio.value,categoriaAdeudo:this.fc.categoriaAdeudo.value?this.fc.categoriaAdeudo.value.claveSIM:""};this.fc.anio.value||delete t.anio,this.apiRestCobranzaService.obtenerAntiguedadPagos(t).subscribe(t=>{this.chart_1=this.generarGrafica(t.body)},t=>{})}generarGrafica(t){return t.map(t=>({name:t.anio,value:t.totalMontoAdeudoPagado,extra:"$"+this.formatNumber(t.totalMontoAdeudoPagado)+", Cantidad de Adeudos: "+this.formatNumber(t.cantidadAdeudos)}))}get fc(){return this.groupForm.controls}getCatalogoAdeudos(){this.apiRestSharedService.getCatalogo("CAT_ADEUDO").subscribe(t=>{t.body&&(this.catalogoAdeudos=t.body)},t=>{})}yAxisTickFormatting(t){return new Intl.NumberFormat("en-US",{style:"currency",currency:"USD",minimumFractionDigits:2}).format(t)}formatNumber(t){return t.toString().replace(/\B(?=(\d{3})+(?!\d))/g,",")}getCatAnios(){this.catalogoAnios=this.apiRestSharedService.getCatalogoAnios()}}return t.\u0275fac=function(e){return new(e||t)(c.Lb(p),c.Lb(l.a),c.Lb(i.c))},t.\u0275cmp=c.Fb({type:t,selectors:[["app-antiguedad-pagos-por-anio"]],decls:22,vars:5,consts:[[1,"container-fluid"],[1,"page-title"],[1,"row"],[1,"col","col-sm-12"],[1,"card"],[1,"card-heading","border","bottom"],[1,"card-title"],[1,"card-block","mb-5"],[1,"col-sm-12_","mb-5","mt-1"],[1,"form-inline","no-gutters",3,"formGroup"],[1,"col-md-5"],["formControlName","anio",3,"items","change"],[1,"col-md-1"],["bindLabel","nombreItem","formControlName","categoriaAdeudo","placeholder","Categor\xeda Adeudo",3,"items","change"],["ng-option-tmp",""],[3,"data","yAxisTickFormatting"],[3,"title"]],template:function(t,e){1&t&&(c.Rb(0,"div",0),c.Rb(1,"div",1),c.Rb(2,"h4"),c.Hc(3," Cobranza "),c.Mb(4,"hr"),c.Qb(),c.Qb(),c.Rb(5,"div",2),c.Rb(6,"div",3),c.Rb(7,"div",4),c.Rb(8,"div",5),c.Rb(9,"h4",6),c.Hc(10,"Antig\xfcedad de Pagos por a\xf1o"),c.Qb(),c.Qb(),c.Rb(11,"div",7),c.Rb(12,"div",8),c.Rb(13,"form",9),c.Rb(14,"div",10),c.Rb(15,"ng-select",11),c.cc("change",(function(){return e.changeFilters()})),c.Qb(),c.Qb(),c.Mb(16,"div",12),c.Rb(17,"div",10),c.Rb(18,"ng-select",13),c.cc("change",(function(){return e.changeFilters()})),c.Fc(19,Ft,2,2,"ng-template",14),c.Qb(),c.Qb(),c.Qb(),c.Qb(),c.Mb(20,"app-ngx-vertical-bar-chart",15),c.Qb(),c.Qb(),c.Mb(21,"div"),c.Qb(),c.Qb(),c.Qb()),2&t&&(c.yb(13),c.mc("formGroup",e.groupForm),c.yb(2),c.mc("items",e.catalogoAnios),c.yb(3),c.mc("items",e.catalogoAdeudos),c.yb(2),c.mc("data",e.chart_1)("yAxisTickFormatting",e.yAxisTickFormatting))},directives:[i.p,i.j,i.e,v.a,i.i,i.d,v.c,ft.a],encapsulation:2}),t})();new u.e({"Content-Type":"application/json",Authorization:"jwt-token"});let Qt=(()=>{class t{constructor(t){this.http=t}getNotarias(){return this.http.get("http://localhost:8080/API-ADMIN/v1/api/prueba/notaria")}}return t.\u0275fac=function(e){return new(e||t)(c.Zb(u.b))},t.\u0275prov=c.Hb({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();function It(t,e){if(1&t&&(c.Rb(0,"tr"),c.Rb(1,"th",7),c.Hc(2),c.Qb(),c.Rb(3,"td"),c.Hc(4),c.Qb(),c.Rb(5,"td"),c.Hc(6),c.Qb(),c.Qb()),2&t){const t=e.$implicit;c.yb(2),c.Ic(t.idNotario),c.yb(2),c.Ic(t.notario),c.yb(2),c.Ic(t.notaria)}}const St=[{path:"",data:{breadcrumbs:"Cobranza"},children:[{path:"carteraVencida",component:z,data:{breadcrumbs:"Cartera Vencida"}},{path:"notificaciones",component:lt,data:{breadcrumbs:"Notificaciones"}},{path:"resultados-cobranza",component:ht,data:{breadcrumbs:"Resultados Cobranza"}},{path:"cobranza",component:k,data:{breadcrumbs:"Cobranza"}},{path:"ingresos",component:J,data:{breadcrumbs:"Ingresos"}},{path:"adeudos",component:$,data:{breadcrumbs:"Adeudos"}},{path:"medios-pago",component:Rt,data:{breadcrumbs:"Medios de pago"}},{path:"antiguedad-pagos-por-anio",component:yt,data:{breadcrumbs:"Antig\xfcedad de Pagos por a\xf1o"}},{path:"pruebajvc",component:(()=>{class t{constructor(t){this.api=t,this.NotariasList=[]}ngOnInit(){this.getNotarias()}getNotarias(){this.api.getNotarias().subscribe(t=>{this.NotariasList=t.body,console.log("---\x3e>>>"+JSON.stringify(this.NotariasList))},t=>{})}}return t.\u0275fac=function(e){return new(e||t)(c.Lb(Qt))},t.\u0275cmp=c.Fb({type:t,selectors:[["app-pruebajvc"]],decls:17,vars:1,consts:[[1,"container","wrapper"],[1,"row"],[1,"col-md-12"],[1,"inner"],[1,"table","table-bordered"],["scope","col"],[4,"ngFor","ngForOf"],["scope","row"]],template:function(t,e){1&t&&(c.Rb(0,"div",0),c.Rb(1,"div",1),c.Rb(2,"div",2),c.Rb(3,"div",3),c.Rb(4,"h3"),c.Hc(5,"Lista Notarias"),c.Qb(),c.Rb(6,"table",4),c.Rb(7,"thead"),c.Rb(8,"tr"),c.Rb(9,"th",5),c.Hc(10,"Id"),c.Qb(),c.Rb(11,"th",5),c.Hc(12,"Notario"),c.Qb(),c.Rb(13,"th",5),c.Hc(14,"NotariaBBV"),c.Qb(),c.Qb(),c.Qb(),c.Rb(15,"tbody"),c.Fc(16,It,7,3,"tr",6),c.Qb(),c.Qb(),c.Qb(),c.Qb(),c.Qb(),c.Qb()),2&t&&(c.yb(16),c.mc("ngForOf",e.NotariasList))},directives:[a.l],encapsulation:2}),t})(),data:{breadcrumbs:"Prueba JVC"}}]}];let Mt=(()=>{class t{}return t.\u0275mod=c.Jb({type:t}),t.\u0275inj=c.Ib({factory:function(e){return new(e||t)},imports:[[n.i.forChild(St)],n.i]}),t})();var Tt=o("LTD9"),Nt=o("PCNd");let Et=(()=>{class t{}return t.\u0275mod=c.Jb({type:t}),t.\u0275inj=c.Ib({factory:function(e){return new(e||t)},imports:[[a.c,v.b,i.f,i.m,Mt,Tt.a,Nt.a]]}),t})()}}]);